var Up=Object.defineProperty;var Hp=(t,e,n)=>e in t?Up(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var se=(t,e,n)=>Hp(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var bf={exports:{}},Js={},Af={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ni=Symbol.for("react.element"),Wp=Symbol.for("react.portal"),Vp=Symbol.for("react.fragment"),qp=Symbol.for("react.strict_mode"),Kp=Symbol.for("react.profiler"),Qp=Symbol.for("react.provider"),Yp=Symbol.for("react.context"),Gp=Symbol.for("react.forward_ref"),Xp=Symbol.for("react.suspense"),Jp=Symbol.for("react.memo"),Zp=Symbol.for("react.lazy"),Qu=Symbol.iterator;function eg(t){return t===null||typeof t!="object"?null:(t=Qu&&t[Qu]||t["@@iterator"],typeof t=="function"?t:null)}var zf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$f=Object.assign,Ff={};function xr(t,e,n){this.props=t,this.context=e,this.refs=Ff,this.updater=n||zf}xr.prototype.isReactComponent={};xr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bf(){}Bf.prototype=xr.prototype;function ja(t,e,n){this.props=t,this.context=e,this.refs=Ff,this.updater=n||zf}var ba=ja.prototype=new Bf;ba.constructor=ja;$f(ba,xr.prototype);ba.isPureReactComponent=!0;var Yu=Array.isArray,Uf=Object.prototype.hasOwnProperty,Aa={current:null},Hf={key:!0,ref:!0,__self:!0,__source:!0};function Wf(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Uf.call(e,r)&&!Hf.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ni,type:t,key:s,ref:o,props:i,_owner:Aa.current}}function tg(t,e){return{$$typeof:Ni,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function za(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ni}function ng(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gu=/\/+/g;function Fo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ng(""+t.key):e.toString(36)}function ls(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ni:case Wp:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Fo(o,0):r,Yu(i)?(n="",t!=null&&(n=t.replace(Gu,"$&/")+"/"),ls(i,e,n,"",function(u){return u})):i!=null&&(za(i)&&(i=tg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gu,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Yu(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+Fo(s,l);o+=ls(s,e,n,a,i)}else if(a=eg(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+Fo(s,l++),o+=ls(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zi(t,e,n){if(t==null)return t;var r=[],i=0;return ls(t,r,"","",function(s){return e.call(n,s,i++)}),r}function rg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var He={current:null},as={transition:null},ig={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:as,ReactCurrentOwner:Aa};function Vf(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:zi,forEach:function(t,e,n){zi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zi(t,function(){e++}),e},toArray:function(t){return zi(t,function(e){return e})||[]},only:function(t){if(!za(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=xr;V.Fragment=Vp;V.Profiler=Kp;V.PureComponent=ja;V.StrictMode=qp;V.Suspense=Xp;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ig;V.act=Vf;V.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$f({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Aa.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Uf.call(e,a)&&!Hf.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ni,type:t.type,key:i,ref:s,props:r,_owner:o}};V.createContext=function(t){return t={$$typeof:Yp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qp,_context:t},t.Consumer=t};V.createElement=Wf;V.createFactory=function(t){var e=Wf.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:Gp,render:t}};V.isValidElement=za;V.lazy=function(t){return{$$typeof:Zp,_payload:{_status:-1,_result:t},_init:rg}};V.memo=function(t,e){return{$$typeof:Jp,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=as.transition;as.transition={};try{t()}finally{as.transition=e}};V.unstable_act=Vf;V.useCallback=function(t,e){return He.current.useCallback(t,e)};V.useContext=function(t){return He.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return He.current.useDeferredValue(t)};V.useEffect=function(t,e){return He.current.useEffect(t,e)};V.useId=function(){return He.current.useId()};V.useImperativeHandle=function(t,e,n){return He.current.useImperativeHandle(t,e,n)};V.useInsertionEffect=function(t,e){return He.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return He.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return He.current.useMemo(t,e)};V.useReducer=function(t,e,n){return He.current.useReducer(t,e,n)};V.useRef=function(t){return He.current.useRef(t)};V.useState=function(t){return He.current.useState(t)};V.useSyncExternalStore=function(t,e,n){return He.current.useSyncExternalStore(t,e,n)};V.useTransition=function(){return He.current.useTransition()};V.version="18.3.1";Af.exports=V;var x=Af.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg=x,og=Symbol.for("react.element"),lg=Symbol.for("react.fragment"),ag=Object.prototype.hasOwnProperty,ug=sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cg={key:!0,ref:!0,__self:!0,__source:!0};function qf(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ag.call(e,r)&&!cg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:og,type:t,key:s,ref:o,props:i,_owner:ug.current}}Js.Fragment=lg;Js.jsx=qf;Js.jsxs=qf;bf.exports=Js;var m=bf.exports,Kf={exports:{}},lt={},Qf={exports:{}},Yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,F){var U=I.length;I.push(F);e:for(;0<U;){var Z=U-1>>>1,ie=I[Z];if(0<i(ie,F))I[Z]=F,I[U]=ie,U=Z;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var F=I[0],U=I.pop();if(U!==F){I[0]=U;e:for(var Z=0,ie=I.length,ut=ie>>>1;Z<ut;){var ze=2*(Z+1)-1,Dt=I[ze],$e=ze+1,H=I[$e];if(0>i(Dt,U))$e<ie&&0>i(H,Dt)?(I[Z]=H,I[$e]=U,Z=$e):(I[Z]=Dt,I[ze]=U,Z=ze);else if($e<ie&&0>i(H,U))I[Z]=H,I[$e]=U,Z=$e;else break e}}return F}function i(I,F){var U=I.sortIndex-F.sortIndex;return U!==0?U:I.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],f=1,h=null,c=3,y=!1,g=!1,w=!1,O=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(I){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=I)r(u),F.sortIndex=F.expirationTime,e(a,F);else break;F=n(u)}}function k(I){if(w=!1,v(I),!g)if(n(a)!==null)g=!0,Le(N);else{var F=n(u);F!==null&&Oe(k,F.startTime-I)}}function N(I,F){g=!1,w&&(w=!1,p(R),R=-1),y=!0;var U=c;try{for(v(F),h=n(a);h!==null&&(!(h.expirationTime>F)||I&&!fe());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,c=h.priorityLevel;var ie=Z(h.expirationTime<=F);F=t.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(a)&&r(a),v(F)}else r(a);h=n(a)}if(h!==null)var ut=!0;else{var ze=n(u);ze!==null&&Oe(k,ze.startTime-F),ut=!1}return ut}finally{h=null,c=U,y=!1}}var L=!1,T=null,R=-1,Q=5,z=-1;function fe(){return!(t.unstable_now()-z<Q)}function te(){if(T!==null){var I=t.unstable_now();z=I;var F=!0;try{F=T(!0,I)}finally{F?he():(L=!1,T=null)}}else L=!1}var he;if(typeof d=="function")he=function(){d(te)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Ve=Ze.port2;Ze.port1.onmessage=te,he=function(){Ve.postMessage(null)}}else he=function(){O(te,0)};function Le(I){T=I,L||(L=!0,he())}function Oe(I,F){R=O(function(){I(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){g||y||(g=!0,Le(N))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(I){switch(c){case 1:case 2:case 3:var F=3;break;default:F=c}var U=c;c=F;try{return I()}finally{c=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=c;c=I;try{return F()}finally{c=U}},t.unstable_scheduleCallback=function(I,F,U){var Z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,I){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=U+ie,I={id:f++,callback:F,priorityLevel:I,startTime:U,expirationTime:ie,sortIndex:-1},U>Z?(I.sortIndex=U,e(u,I),n(a)===null&&I===n(u)&&(w?(p(R),R=-1):w=!0,Oe(k,U-Z))):(I.sortIndex=ie,e(a,I),g||y||(g=!0,Le(N))),I},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(I){var F=c;return function(){var U=c;c=F;try{return I.apply(this,arguments)}finally{c=U}}}})(Yf);Qf.exports=Yf;var fg=Qf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg=x,ot=fg;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gf=new Set,fi={};function Bn(t,e){yr(t,e),yr(t+"Capture",e)}function yr(t,e){for(fi[t]=e,t=0;t<e.length;t++)Gf.add(e[t])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=Object.prototype.hasOwnProperty,hg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xu={},Ju={};function pg(t){return Pl.call(Ju,t)?!0:Pl.call(Xu,t)?!1:hg.test(t)?Ju[t]=!0:(Xu[t]=!0,!1)}function gg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mg(t,e,n,r){if(e===null||typeof e>"u"||gg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function We(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ne[t]=new We(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ne[e]=new We(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ne[t]=new We(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ne[t]=new We(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ne[t]=new We(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ne[t]=new We(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ne[t]=new We(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ne[t]=new We(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ne[t]=new We(t,5,!1,t.toLowerCase(),null,!1,!1)});var $a=/[\-:]([a-z])/g;function Fa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($a,Fa);Ne[e]=new We(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($a,Fa);Ne[e]=new We(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($a,Fa);Ne[e]=new We(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ne[t]=new We(t,1,!1,t.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ne[t]=new We(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ba(t,e,n,r){var i=Ne.hasOwnProperty(e)?Ne[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mg(e,n,i,r)&&(n=null),r||i===null?pg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kt=dg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$i=Symbol.for("react.element"),er=Symbol.for("react.portal"),tr=Symbol.for("react.fragment"),Ua=Symbol.for("react.strict_mode"),Nl=Symbol.for("react.profiler"),Xf=Symbol.for("react.provider"),Jf=Symbol.for("react.context"),Ha=Symbol.for("react.forward_ref"),Ll=Symbol.for("react.suspense"),Rl=Symbol.for("react.suspense_list"),Wa=Symbol.for("react.memo"),en=Symbol.for("react.lazy"),Zf=Symbol.for("react.offscreen"),Zu=Symbol.iterator;function Ar(t){return t===null||typeof t!="object"?null:(t=Zu&&t[Zu]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,Bo;function Qr(t){if(Bo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bo=e&&e[1]||""}return`
`+Bo+t}var Uo=!1;function Ho(t,e){if(!t||Uo)return"";Uo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Uo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qr(t):""}function vg(t){switch(t.tag){case 5:return Qr(t.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 2:case 15:return t=Ho(t.type,!1),t;case 11:return t=Ho(t.type.render,!1),t;case 1:return t=Ho(t.type,!0),t;default:return""}}function Il(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tr:return"Fragment";case er:return"Portal";case Nl:return"Profiler";case Ua:return"StrictMode";case Ll:return"Suspense";case Rl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jf:return(t.displayName||"Context")+".Consumer";case Xf:return(t._context.displayName||"Context")+".Provider";case Ha:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wa:return e=t.displayName||null,e!==null?e:Il(t.type)||"Memo";case en:e=t._payload,t=t._init;try{return Il(t(e))}catch{}}return null}function yg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Il(e);case 8:return e===Ua?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ed(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wg(t){var e=ed(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fi(t){t._valueTracker||(t._valueTracker=wg(t))}function td(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ed(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ts(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ml(t,e){var n=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ec(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nd(t,e){e=e.checked,e!=null&&Ba(t,"checked",e,!1)}function jl(t,e){nd(t,e);var n=yn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bl(t,e.type,n):e.hasOwnProperty("defaultValue")&&bl(t,e.type,yn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bl(t,e,n){(e!=="number"||Ts(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yr=Array.isArray;function dr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Al(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Yr(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yn(n)}}function rd(t,e){var n=yn(e.value),r=yn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function id(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?id(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bi,sd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bi=Bi||document.createElement("div"),Bi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function di(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sg=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(t){Sg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ei[e]=ei[t]})});function od(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ei.hasOwnProperty(t)&&ei[t]?(""+e).trim():e+"px"}function ld(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=od(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _g=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $l(t,e){if(e){if(_g[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Fl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bl=null;function Va(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ul=null,hr=null,pr=null;function ic(t){if(t=Ii(t)){if(typeof Ul!="function")throw Error(P(280));var e=t.stateNode;e&&(e=ro(e),Ul(t.stateNode,t.type,e))}}function ad(t){hr?pr?pr.push(t):pr=[t]:hr=t}function ud(){if(hr){var t=hr,e=pr;if(pr=hr=null,ic(t),e)for(t=0;t<e.length;t++)ic(e[t])}}function cd(t,e){return t(e)}function fd(){}var Wo=!1;function dd(t,e,n){if(Wo)return t(e,n);Wo=!0;try{return cd(t,e,n)}finally{Wo=!1,(hr!==null||pr!==null)&&(fd(),ud())}}function hi(t,e){var n=t.stateNode;if(n===null)return null;var r=ro(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Hl=!1;if(Ht)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{Hl=!1}function Eg(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var ti=!1,Ds=null,Ps=!1,Wl=null,Cg={onError:function(t){ti=!0,Ds=t}};function kg(t,e,n,r,i,s,o,l,a){ti=!1,Ds=null,Eg.apply(Cg,arguments)}function Og(t,e,n,r,i,s,o,l,a){if(kg.apply(this,arguments),ti){if(ti){var u=Ds;ti=!1,Ds=null}else throw Error(P(198));Ps||(Ps=!0,Wl=u)}}function Un(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sc(t){if(Un(t)!==t)throw Error(P(188))}function xg(t){var e=t.alternate;if(!e){if(e=Un(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return sc(i),t;if(s===r)return sc(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function pd(t){return t=xg(t),t!==null?gd(t):null}function gd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gd(t);if(e!==null)return e;t=t.sibling}return null}var md=ot.unstable_scheduleCallback,oc=ot.unstable_cancelCallback,Tg=ot.unstable_shouldYield,Dg=ot.unstable_requestPaint,de=ot.unstable_now,Pg=ot.unstable_getCurrentPriorityLevel,qa=ot.unstable_ImmediatePriority,vd=ot.unstable_UserBlockingPriority,Ns=ot.unstable_NormalPriority,Ng=ot.unstable_LowPriority,yd=ot.unstable_IdlePriority,Zs=null,It=null;function Lg(t){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Zs,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:Mg,Rg=Math.log,Ig=Math.LN2;function Mg(t){return t>>>=0,t===0?32:31-(Rg(t)/Ig|0)|0}var Ui=64,Hi=4194304;function Gr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ls(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Gr(l):(s&=o,s!==0&&(r=Gr(s)))}else o=n&~i,o!==0?r=Gr(o):s!==0&&(r=Gr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ot(e),i=1<<n,r|=t[n],e&=~i;return r}function jg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ot(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=jg(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Vl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wd(){var t=Ui;return Ui<<=1,!(Ui&4194240)&&(Ui=64),t}function Vo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Li(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ot(e),t[e]=n}function Ag(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ot(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ka(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ot(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var J=0;function Sd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _d,Qa,Ed,Cd,kd,ql=!1,Wi=[],an=null,un=null,cn=null,pi=new Map,gi=new Map,rn=[],zg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lc(t,e){switch(t){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":pi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(e.pointerId)}}function $r(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ii(e),e!==null&&Qa(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $g(t,e,n,r,i){switch(e){case"focusin":return an=$r(an,t,e,n,r,i),!0;case"dragenter":return un=$r(un,t,e,n,r,i),!0;case"mouseover":return cn=$r(cn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return pi.set(s,$r(pi.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gi.set(s,$r(gi.get(s)||null,t,e,n,r,i)),!0}return!1}function Od(t){var e=Pn(t.target);if(e!==null){var n=Un(e);if(n!==null){if(e=n.tag,e===13){if(e=hd(n),e!==null){t.blockedOn=e,kd(t.priority,function(){Ed(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function us(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bl=r,n.target.dispatchEvent(r),Bl=null}else return e=Ii(n),e!==null&&Qa(e),t.blockedOn=n,!1;e.shift()}return!0}function ac(t,e,n){us(t)&&n.delete(e)}function Fg(){ql=!1,an!==null&&us(an)&&(an=null),un!==null&&us(un)&&(un=null),cn!==null&&us(cn)&&(cn=null),pi.forEach(ac),gi.forEach(ac)}function Fr(t,e){t.blockedOn===e&&(t.blockedOn=null,ql||(ql=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,Fg)))}function mi(t){function e(i){return Fr(i,t)}if(0<Wi.length){Fr(Wi[0],t);for(var n=1;n<Wi.length;n++){var r=Wi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(an!==null&&Fr(an,t),un!==null&&Fr(un,t),cn!==null&&Fr(cn,t),pi.forEach(e),gi.forEach(e),n=0;n<rn.length;n++)r=rn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rn.length&&(n=rn[0],n.blockedOn===null);)Od(n),n.blockedOn===null&&rn.shift()}var gr=Kt.ReactCurrentBatchConfig,Rs=!0;function Bg(t,e,n,r){var i=J,s=gr.transition;gr.transition=null;try{J=1,Ya(t,e,n,r)}finally{J=i,gr.transition=s}}function Ug(t,e,n,r){var i=J,s=gr.transition;gr.transition=null;try{J=4,Ya(t,e,n,r)}finally{J=i,gr.transition=s}}function Ya(t,e,n,r){if(Rs){var i=Kl(t,e,n,r);if(i===null)tl(t,e,r,Is,n),lc(t,r);else if($g(i,t,e,n,r))r.stopPropagation();else if(lc(t,r),e&4&&-1<zg.indexOf(t)){for(;i!==null;){var s=Ii(i);if(s!==null&&_d(s),s=Kl(t,e,n,r),s===null&&tl(t,e,r,Is,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else tl(t,e,r,null,n)}}var Is=null;function Kl(t,e,n,r){if(Is=null,t=Va(r),t=Pn(t),t!==null)if(e=Un(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hd(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Is=t,null}function xd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pg()){case qa:return 1;case vd:return 4;case Ns:case Ng:return 16;case yd:return 536870912;default:return 16}default:return 16}}var on=null,Ga=null,cs=null;function Td(){if(cs)return cs;var t,e=Ga,n=e.length,r,i="value"in on?on.value:on.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return cs=i.slice(t,1<r?1-r:void 0)}function fs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vi(){return!0}function uc(){return!1}function at(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vi:uc,this.isPropagationStopped=uc,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),e}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=at(Tr),Ri=ue({},Tr,{view:0,detail:0}),Hg=at(Ri),qo,Ko,Br,eo=ue({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(qo=t.screenX-Br.screenX,Ko=t.screenY-Br.screenY):Ko=qo=0,Br=t),qo)},movementY:function(t){return"movementY"in t?t.movementY:Ko}}),cc=at(eo),Wg=ue({},eo,{dataTransfer:0}),Vg=at(Wg),qg=ue({},Ri,{relatedTarget:0}),Qo=at(qg),Kg=ue({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qg=at(Kg),Yg=ue({},Tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gg=at(Yg),Xg=ue({},Tr,{data:0}),fc=at(Xg),Jg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=e0[t])?!!e[t]:!1}function Ja(){return t0}var n0=ue({},Ri,{key:function(t){if(t.key){var e=Jg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(t){return t.type==="keypress"?fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),r0=at(n0),i0=ue({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=at(i0),s0=ue({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),o0=at(s0),l0=ue({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),a0=at(l0),u0=ue({},eo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),c0=at(u0),f0=[9,13,27,32],Za=Ht&&"CompositionEvent"in window,ni=null;Ht&&"documentMode"in document&&(ni=document.documentMode);var d0=Ht&&"TextEvent"in window&&!ni,Dd=Ht&&(!Za||ni&&8<ni&&11>=ni),hc=" ",pc=!1;function Pd(t,e){switch(t){case"keyup":return f0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nr=!1;function h0(t,e){switch(t){case"compositionend":return Nd(e);case"keypress":return e.which!==32?null:(pc=!0,hc);case"textInput":return t=e.data,t===hc&&pc?null:t;default:return null}}function p0(t,e){if(nr)return t==="compositionend"||!Za&&Pd(t,e)?(t=Td(),cs=Ga=on=null,nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dd&&e.locale!=="ko"?null:e.data;default:return null}}var g0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g0[t.type]:e==="textarea"}function Ld(t,e,n,r){ad(r),e=Ms(e,"onChange"),0<e.length&&(n=new Xa("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ri=null,vi=null;function m0(t){Ud(t,0)}function to(t){var e=sr(t);if(td(e))return t}function v0(t,e){if(t==="change")return e}var Rd=!1;if(Ht){var Yo;if(Ht){var Go="oninput"in document;if(!Go){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),Go=typeof mc.oninput=="function"}Yo=Go}else Yo=!1;Rd=Yo&&(!document.documentMode||9<document.documentMode)}function vc(){ri&&(ri.detachEvent("onpropertychange",Id),vi=ri=null)}function Id(t){if(t.propertyName==="value"&&to(vi)){var e=[];Ld(e,vi,t,Va(t)),dd(m0,e)}}function y0(t,e,n){t==="focusin"?(vc(),ri=e,vi=n,ri.attachEvent("onpropertychange",Id)):t==="focusout"&&vc()}function w0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return to(vi)}function S0(t,e){if(t==="click")return to(e)}function _0(t,e){if(t==="input"||t==="change")return to(e)}function E0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tt=typeof Object.is=="function"?Object.is:E0;function yi(t,e){if(Tt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Pl.call(e,i)||!Tt(t[i],e[i]))return!1}return!0}function yc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wc(t,e){var n=yc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yc(n)}}function Md(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Md(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jd(){for(var t=window,e=Ts();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ts(t.document)}return e}function eu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function C0(t){var e=jd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Md(n.ownerDocument.documentElement,n)){if(r!==null&&eu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=wc(n,s);var o=wc(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var k0=Ht&&"documentMode"in document&&11>=document.documentMode,rr=null,Ql=null,ii=null,Yl=!1;function Sc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yl||rr==null||rr!==Ts(r)||(r=rr,"selectionStart"in r&&eu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ii&&yi(ii,r)||(ii=r,r=Ms(Ql,"onSelect"),0<r.length&&(e=new Xa("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rr)))}function qi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ir={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionend:qi("Transition","TransitionEnd")},Xo={},bd={};Ht&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete ir.animationend.animation,delete ir.animationiteration.animation,delete ir.animationstart.animation),"TransitionEvent"in window||delete ir.transitionend.transition);function no(t){if(Xo[t])return Xo[t];if(!ir[t])return t;var e=ir[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bd)return Xo[t]=e[n];return t}var Ad=no("animationend"),zd=no("animationiteration"),$d=no("animationstart"),Fd=no("transitionend"),Bd=new Map,_c="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(t,e){Bd.set(t,e),Bn(e,[t])}for(var Jo=0;Jo<_c.length;Jo++){var Zo=_c[Jo],O0=Zo.toLowerCase(),x0=Zo[0].toUpperCase()+Zo.slice(1);Sn(O0,"on"+x0)}Sn(Ad,"onAnimationEnd");Sn(zd,"onAnimationIteration");Sn($d,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(Fd,"onTransitionEnd");yr("onMouseEnter",["mouseout","mouseover"]);yr("onMouseLeave",["mouseout","mouseover"]);yr("onPointerEnter",["pointerout","pointerover"]);yr("onPointerLeave",["pointerout","pointerover"]);Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xr));function Ec(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Og(r,e,void 0,t),t.currentTarget=null}function Ud(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Ec(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Ec(i,l,u),s=a}}}if(Ps)throw t=Wl,Ps=!1,Wl=null,t}function ne(t,e){var n=e[ea];n===void 0&&(n=e[ea]=new Set);var r=t+"__bubble";n.has(r)||(Hd(e,t,2,!1),n.add(r))}function el(t,e,n){var r=0;e&&(r|=4),Hd(n,t,r,e)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function wi(t){if(!t[Ki]){t[Ki]=!0,Gf.forEach(function(n){n!=="selectionchange"&&(T0.has(n)||el(n,!1,t),el(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ki]||(e[Ki]=!0,el("selectionchange",!1,e))}}function Hd(t,e,n,r){switch(xd(e)){case 1:var i=Bg;break;case 4:i=Ug;break;default:i=Ya}n=i.bind(null,e,n,t),i=void 0,!Hl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tl(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Pn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}dd(function(){var u=s,f=Va(n),h=[];e:{var c=Bd.get(t);if(c!==void 0){var y=Xa,g=t;switch(t){case"keypress":if(fs(n)===0)break e;case"keydown":case"keyup":y=r0;break;case"focusin":g="focus",y=Qo;break;case"focusout":g="blur",y=Qo;break;case"beforeblur":case"afterblur":y=Qo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=o0;break;case Ad:case zd:case $d:y=Qg;break;case Fd:y=a0;break;case"scroll":y=Hg;break;case"wheel":y=c0;break;case"copy":case"cut":case"paste":y=Gg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=dc}var w=(e&4)!==0,O=!w&&t==="scroll",p=w?c!==null?c+"Capture":null:c;w=[];for(var d=u,v;d!==null;){v=d;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,p!==null&&(k=hi(d,p),k!=null&&w.push(Si(d,k,v)))),O)break;d=d.return}0<w.length&&(c=new y(c,g,null,n,f),h.push({event:c,listeners:w}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",c&&n!==Bl&&(g=n.relatedTarget||n.fromElement)&&(Pn(g)||g[Wt]))break e;if((y||c)&&(c=f.window===f?f:(c=f.ownerDocument)?c.defaultView||c.parentWindow:window,y?(g=n.relatedTarget||n.toElement,y=u,g=g?Pn(g):null,g!==null&&(O=Un(g),g!==O||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=u),y!==g)){if(w=cc,k="onMouseLeave",p="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(w=dc,k="onPointerLeave",p="onPointerEnter",d="pointer"),O=y==null?c:sr(y),v=g==null?c:sr(g),c=new w(k,d+"leave",y,n,f),c.target=O,c.relatedTarget=v,k=null,Pn(f)===u&&(w=new w(p,d+"enter",g,n,f),w.target=v,w.relatedTarget=O,k=w),O=k,y&&g)t:{for(w=y,p=g,d=0,v=w;v;v=Jn(v))d++;for(v=0,k=p;k;k=Jn(k))v++;for(;0<d-v;)w=Jn(w),d--;for(;0<v-d;)p=Jn(p),v--;for(;d--;){if(w===p||p!==null&&w===p.alternate)break t;w=Jn(w),p=Jn(p)}w=null}else w=null;y!==null&&Cc(h,c,y,w,!1),g!==null&&O!==null&&Cc(h,O,g,w,!0)}}e:{if(c=u?sr(u):window,y=c.nodeName&&c.nodeName.toLowerCase(),y==="select"||y==="input"&&c.type==="file")var N=v0;else if(gc(c))if(Rd)N=_0;else{N=w0;var L=y0}else(y=c.nodeName)&&y.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(N=S0);if(N&&(N=N(t,u))){Ld(h,N,n,f);break e}L&&L(t,c,u),t==="focusout"&&(L=c._wrapperState)&&L.controlled&&c.type==="number"&&bl(c,"number",c.value)}switch(L=u?sr(u):window,t){case"focusin":(gc(L)||L.contentEditable==="true")&&(rr=L,Ql=u,ii=null);break;case"focusout":ii=Ql=rr=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,Sc(h,n,f);break;case"selectionchange":if(k0)break;case"keydown":case"keyup":Sc(h,n,f)}var T;if(Za)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else nr?Pd(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Dd&&n.locale!=="ko"&&(nr||R!=="onCompositionStart"?R==="onCompositionEnd"&&nr&&(T=Td()):(on=f,Ga="value"in on?on.value:on.textContent,nr=!0)),L=Ms(u,R),0<L.length&&(R=new fc(R,t,null,n,f),h.push({event:R,listeners:L}),T?R.data=T:(T=Nd(n),T!==null&&(R.data=T)))),(T=d0?h0(t,n):p0(t,n))&&(u=Ms(u,"onBeforeInput"),0<u.length&&(f=new fc("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=T))}Ud(h,e)})}function Si(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ms(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hi(t,n),s!=null&&r.unshift(Si(t,s,i)),s=hi(t,e),s!=null&&r.push(Si(t,s,i))),t=t.return}return r}function Jn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cc(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=hi(n,s),a!=null&&o.unshift(Si(n,a,l))):i||(a=hi(n,s),a!=null&&o.push(Si(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var D0=/\r\n?/g,P0=/\u0000|\uFFFD/g;function kc(t){return(typeof t=="string"?t:""+t).replace(D0,`
`).replace(P0,"")}function Qi(t,e,n){if(e=kc(e),kc(t)!==e&&n)throw Error(P(425))}function js(){}var Gl=null,Xl=null;function Jl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zl=typeof setTimeout=="function"?setTimeout:void 0,N0=typeof clearTimeout=="function"?clearTimeout:void 0,Oc=typeof Promise=="function"?Promise:void 0,L0=typeof queueMicrotask=="function"?queueMicrotask:typeof Oc<"u"?function(t){return Oc.resolve(null).then(t).catch(R0)}:Zl;function R0(t){setTimeout(function(){throw t})}function nl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),mi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);mi(e)}function fn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Dr,_i="__reactProps$"+Dr,Wt="__reactContainer$"+Dr,ea="__reactEvents$"+Dr,I0="__reactListeners$"+Dr,M0="__reactHandles$"+Dr;function Pn(t){var e=t[Rt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wt]||n[Rt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xc(t);t!==null;){if(n=t[Rt])return n;t=xc(t)}return e}t=n,n=t.parentNode}return null}function Ii(t){return t=t[Rt]||t[Wt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function ro(t){return t[_i]||null}var ta=[],or=-1;function _n(t){return{current:t}}function re(t){0>or||(t.current=ta[or],ta[or]=null,or--)}function ee(t,e){or++,ta[or]=t.current,t.current=e}var wn={},Ae=_n(wn),Ge=_n(!1),jn=wn;function wr(t,e){var n=t.type.contextTypes;if(!n)return wn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xe(t){return t=t.childContextTypes,t!=null}function bs(){re(Ge),re(Ae)}function Tc(t,e,n){if(Ae.current!==wn)throw Error(P(168));ee(Ae,e),ee(Ge,n)}function Wd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,yg(t)||"Unknown",i));return ue({},n,r)}function As(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wn,jn=Ae.current,ee(Ae,t),ee(Ge,Ge.current),!0}function Dc(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=Wd(t,e,jn),r.__reactInternalMemoizedMergedChildContext=t,re(Ge),re(Ae),ee(Ae,t)):re(Ge),ee(Ge,n)}var $t=null,io=!1,rl=!1;function Vd(t){$t===null?$t=[t]:$t.push(t)}function j0(t){io=!0,Vd(t)}function En(){if(!rl&&$t!==null){rl=!0;var t=0,e=J;try{var n=$t;for(J=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$t=null,io=!1}catch(i){throw $t!==null&&($t=$t.slice(t+1)),md(qa,En),i}finally{J=e,rl=!1}}return null}var lr=[],ar=0,zs=null,$s=0,ft=[],dt=0,bn=null,Ft=1,Bt="";function Tn(t,e){lr[ar++]=$s,lr[ar++]=zs,zs=t,$s=e}function qd(t,e,n){ft[dt++]=Ft,ft[dt++]=Bt,ft[dt++]=bn,bn=t;var r=Ft;t=Bt;var i=32-Ot(r)-1;r&=~(1<<i),n+=1;var s=32-Ot(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ft=1<<32-Ot(e)+i|n<<i|r,Bt=s+t}else Ft=1<<s|n<<i|r,Bt=t}function tu(t){t.return!==null&&(Tn(t,1),qd(t,1,0))}function nu(t){for(;t===zs;)zs=lr[--ar],lr[ar]=null,$s=lr[--ar],lr[ar]=null;for(;t===bn;)bn=ft[--dt],ft[dt]=null,Bt=ft[--dt],ft[dt]=null,Ft=ft[--dt],ft[dt]=null}var st=null,it=null,oe=!1,kt=null;function Kd(t,e){var n=gt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Pc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,st=t,it=fn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,st=t,it=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bn!==null?{id:Ft,overflow:Bt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,st=t,it=null,!0):!1;default:return!1}}function na(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ra(t){if(oe){var e=it;if(e){var n=e;if(!Pc(t,e)){if(na(t))throw Error(P(418));e=fn(n.nextSibling);var r=st;e&&Pc(t,e)?Kd(r,n):(t.flags=t.flags&-4097|2,oe=!1,st=t)}}else{if(na(t))throw Error(P(418));t.flags=t.flags&-4097|2,oe=!1,st=t}}}function Nc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;st=t}function Yi(t){if(t!==st)return!1;if(!oe)return Nc(t),oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jl(t.type,t.memoizedProps)),e&&(e=it)){if(na(t))throw Qd(),Error(P(418));for(;e;)Kd(t,e),e=fn(e.nextSibling)}if(Nc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){it=fn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}it=null}}else it=st?fn(t.stateNode.nextSibling):null;return!0}function Qd(){for(var t=it;t;)t=fn(t.nextSibling)}function Sr(){it=st=null,oe=!1}function ru(t){kt===null?kt=[t]:kt.push(t)}var b0=Kt.ReactCurrentBatchConfig;function Ur(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Gi(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lc(t){var e=t._init;return e(t._payload)}function Yd(t){function e(p,d){if(t){var v=p.deletions;v===null?(p.deletions=[d],p.flags|=16):v.push(d)}}function n(p,d){if(!t)return null;for(;d!==null;)e(p,d),d=d.sibling;return null}function r(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function i(p,d){return p=gn(p,d),p.index=0,p.sibling=null,p}function s(p,d,v){return p.index=v,t?(v=p.alternate,v!==null?(v=v.index,v<d?(p.flags|=2,d):v):(p.flags|=2,d)):(p.flags|=1048576,d)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,d,v,k){return d===null||d.tag!==6?(d=cl(v,p.mode,k),d.return=p,d):(d=i(d,v),d.return=p,d)}function a(p,d,v,k){var N=v.type;return N===tr?f(p,d,v.props.children,k,v.key):d!==null&&(d.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===en&&Lc(N)===d.type)?(k=i(d,v.props),k.ref=Ur(p,d,v),k.return=p,k):(k=ys(v.type,v.key,v.props,null,p.mode,k),k.ref=Ur(p,d,v),k.return=p,k)}function u(p,d,v,k){return d===null||d.tag!==4||d.stateNode.containerInfo!==v.containerInfo||d.stateNode.implementation!==v.implementation?(d=fl(v,p.mode,k),d.return=p,d):(d=i(d,v.children||[]),d.return=p,d)}function f(p,d,v,k,N){return d===null||d.tag!==7?(d=In(v,p.mode,k,N),d.return=p,d):(d=i(d,v),d.return=p,d)}function h(p,d,v){if(typeof d=="string"&&d!==""||typeof d=="number")return d=cl(""+d,p.mode,v),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case $i:return v=ys(d.type,d.key,d.props,null,p.mode,v),v.ref=Ur(p,null,d),v.return=p,v;case er:return d=fl(d,p.mode,v),d.return=p,d;case en:var k=d._init;return h(p,k(d._payload),v)}if(Yr(d)||Ar(d))return d=In(d,p.mode,v,null),d.return=p,d;Gi(p,d)}return null}function c(p,d,v,k){var N=d!==null?d.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(p,d,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $i:return v.key===N?a(p,d,v,k):null;case er:return v.key===N?u(p,d,v,k):null;case en:return N=v._init,c(p,d,N(v._payload),k)}if(Yr(v)||Ar(v))return N!==null?null:f(p,d,v,k,null);Gi(p,v)}return null}function y(p,d,v,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(v)||null,l(d,p,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case $i:return p=p.get(k.key===null?v:k.key)||null,a(d,p,k,N);case er:return p=p.get(k.key===null?v:k.key)||null,u(d,p,k,N);case en:var L=k._init;return y(p,d,v,L(k._payload),N)}if(Yr(k)||Ar(k))return p=p.get(v)||null,f(d,p,k,N,null);Gi(d,k)}return null}function g(p,d,v,k){for(var N=null,L=null,T=d,R=d=0,Q=null;T!==null&&R<v.length;R++){T.index>R?(Q=T,T=null):Q=T.sibling;var z=c(p,T,v[R],k);if(z===null){T===null&&(T=Q);break}t&&T&&z.alternate===null&&e(p,T),d=s(z,d,R),L===null?N=z:L.sibling=z,L=z,T=Q}if(R===v.length)return n(p,T),oe&&Tn(p,R),N;if(T===null){for(;R<v.length;R++)T=h(p,v[R],k),T!==null&&(d=s(T,d,R),L===null?N=T:L.sibling=T,L=T);return oe&&Tn(p,R),N}for(T=r(p,T);R<v.length;R++)Q=y(T,p,R,v[R],k),Q!==null&&(t&&Q.alternate!==null&&T.delete(Q.key===null?R:Q.key),d=s(Q,d,R),L===null?N=Q:L.sibling=Q,L=Q);return t&&T.forEach(function(fe){return e(p,fe)}),oe&&Tn(p,R),N}function w(p,d,v,k){var N=Ar(v);if(typeof N!="function")throw Error(P(150));if(v=N.call(v),v==null)throw Error(P(151));for(var L=N=null,T=d,R=d=0,Q=null,z=v.next();T!==null&&!z.done;R++,z=v.next()){T.index>R?(Q=T,T=null):Q=T.sibling;var fe=c(p,T,z.value,k);if(fe===null){T===null&&(T=Q);break}t&&T&&fe.alternate===null&&e(p,T),d=s(fe,d,R),L===null?N=fe:L.sibling=fe,L=fe,T=Q}if(z.done)return n(p,T),oe&&Tn(p,R),N;if(T===null){for(;!z.done;R++,z=v.next())z=h(p,z.value,k),z!==null&&(d=s(z,d,R),L===null?N=z:L.sibling=z,L=z);return oe&&Tn(p,R),N}for(T=r(p,T);!z.done;R++,z=v.next())z=y(T,p,R,z.value,k),z!==null&&(t&&z.alternate!==null&&T.delete(z.key===null?R:z.key),d=s(z,d,R),L===null?N=z:L.sibling=z,L=z);return t&&T.forEach(function(te){return e(p,te)}),oe&&Tn(p,R),N}function O(p,d,v,k){if(typeof v=="object"&&v!==null&&v.type===tr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case $i:e:{for(var N=v.key,L=d;L!==null;){if(L.key===N){if(N=v.type,N===tr){if(L.tag===7){n(p,L.sibling),d=i(L,v.props.children),d.return=p,p=d;break e}}else if(L.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===en&&Lc(N)===L.type){n(p,L.sibling),d=i(L,v.props),d.ref=Ur(p,L,v),d.return=p,p=d;break e}n(p,L);break}else e(p,L);L=L.sibling}v.type===tr?(d=In(v.props.children,p.mode,k,v.key),d.return=p,p=d):(k=ys(v.type,v.key,v.props,null,p.mode,k),k.ref=Ur(p,d,v),k.return=p,p=k)}return o(p);case er:e:{for(L=v.key;d!==null;){if(d.key===L)if(d.tag===4&&d.stateNode.containerInfo===v.containerInfo&&d.stateNode.implementation===v.implementation){n(p,d.sibling),d=i(d,v.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else e(p,d);d=d.sibling}d=fl(v,p.mode,k),d.return=p,p=d}return o(p);case en:return L=v._init,O(p,d,L(v._payload),k)}if(Yr(v))return g(p,d,v,k);if(Ar(v))return w(p,d,v,k);Gi(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,d!==null&&d.tag===6?(n(p,d.sibling),d=i(d,v),d.return=p,p=d):(n(p,d),d=cl(v,p.mode,k),d.return=p,p=d),o(p)):n(p,d)}return O}var _r=Yd(!0),Gd=Yd(!1),Fs=_n(null),Bs=null,ur=null,iu=null;function su(){iu=ur=Bs=null}function ou(t){var e=Fs.current;re(Fs),t._currentValue=e}function ia(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function mr(t,e){Bs=t,iu=ur=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ye=!0),t.firstContext=null)}function vt(t){var e=t._currentValue;if(iu!==t)if(t={context:t,memoizedValue:e,next:null},ur===null){if(Bs===null)throw Error(P(308));ur=t,Bs.dependencies={lanes:0,firstContext:t}}else ur=ur.next=t;return e}var Nn=null;function lu(t){Nn===null?Nn=[t]:Nn.push(t)}function Xd(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,lu(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vt(t,r)}function Vt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var tn=!1;function au(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ut(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function dn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vt(t,n)}return i=r.interleaved,i===null?(e.next=e,lu(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vt(t,n)}function ds(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ka(t,n)}}function Rc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Us(t,e,n,r){var i=t.updateQueue;tn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,f=u=a=null,l=s;do{var c=l.lane,y=l.eventTime;if((r&c)===c){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,w=l;switch(c=e,y=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){h=g.call(y,h,c);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,c=typeof g=="function"?g.call(y,h,c):g,c==null)break e;h=ue({},h,c);break e;case 2:tn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,c=i.effects,c===null?i.effects=[l]:c.push(l))}else y={eventTime:y,lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=y,a=h):f=f.next=y,o|=c;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;c=l,l=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(f===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);zn|=o,t.lanes=o,t.memoizedState=h}}function Ic(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var Mi={},Mt=_n(Mi),Ei=_n(Mi),Ci=_n(Mi);function Ln(t){if(t===Mi)throw Error(P(174));return t}function uu(t,e){switch(ee(Ci,e),ee(Ei,t),ee(Mt,Mi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zl(e,t)}re(Mt),ee(Mt,e)}function Er(){re(Mt),re(Ei),re(Ci)}function Zd(t){Ln(Ci.current);var e=Ln(Mt.current),n=zl(e,t.type);e!==n&&(ee(Ei,t),ee(Mt,n))}function cu(t){Ei.current===t&&(re(Mt),re(Ei))}var le=_n(0);function Hs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var il=[];function fu(){for(var t=0;t<il.length;t++)il[t]._workInProgressVersionPrimary=null;il.length=0}var hs=Kt.ReactCurrentDispatcher,sl=Kt.ReactCurrentBatchConfig,An=0,ae=null,we=null,Ce=null,Ws=!1,si=!1,ki=0,A0=0;function Ie(){throw Error(P(321))}function du(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tt(t[n],e[n]))return!1;return!0}function hu(t,e,n,r,i,s){if(An=s,ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hs.current=t===null||t.memoizedState===null?B0:U0,t=n(r,i),si){s=0;do{if(si=!1,ki=0,25<=s)throw Error(P(301));s+=1,Ce=we=null,e.updateQueue=null,hs.current=H0,t=n(r,i)}while(si)}if(hs.current=Vs,e=we!==null&&we.next!==null,An=0,Ce=we=ae=null,Ws=!1,e)throw Error(P(300));return t}function pu(){var t=ki!==0;return ki=0,t}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?ae.memoizedState=Ce=t:Ce=Ce.next=t,Ce}function yt(){if(we===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=Ce===null?ae.memoizedState:Ce.next;if(e!==null)Ce=e,we=t;else{if(t===null)throw Error(P(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ce===null?ae.memoizedState=Ce=t:Ce=Ce.next=t}return Ce}function Oi(t,e){return typeof e=="function"?e(t):e}function ol(t){var e=yt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=we,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var f=u.lane;if((An&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,ae.lanes|=f,zn|=f}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Tt(r,e.memoizedState)||(Ye=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ae.lanes|=s,zn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ll(t){var e=yt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Tt(s,e.memoizedState)||(Ye=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function eh(){}function th(t,e){var n=ae,r=yt(),i=e(),s=!Tt(r.memoizedState,i);if(s&&(r.memoizedState=i,Ye=!0),r=r.queue,gu(ih.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,xi(9,rh.bind(null,n,r,i,e),void 0,null),ke===null)throw Error(P(349));An&30||nh(n,e,i)}return i}function nh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rh(t,e,n,r){e.value=n,e.getSnapshot=r,sh(e)&&oh(t)}function ih(t,e,n){return n(function(){sh(e)&&oh(t)})}function sh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tt(t,n)}catch{return!0}}function oh(t){var e=Vt(t,1);e!==null&&xt(e,t,1,-1)}function Mc(t){var e=Lt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},e.queue=t,t=t.dispatch=F0.bind(null,ae,t),[e.memoizedState,t]}function xi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lh(){return yt().memoizedState}function ps(t,e,n,r){var i=Lt();ae.flags|=t,i.memoizedState=xi(1|e,n,void 0,r===void 0?null:r)}function so(t,e,n,r){var i=yt();r=r===void 0?null:r;var s=void 0;if(we!==null){var o=we.memoizedState;if(s=o.destroy,r!==null&&du(r,o.deps)){i.memoizedState=xi(e,n,s,r);return}}ae.flags|=t,i.memoizedState=xi(1|e,n,s,r)}function jc(t,e){return ps(8390656,8,t,e)}function gu(t,e){return so(2048,8,t,e)}function ah(t,e){return so(4,2,t,e)}function uh(t,e){return so(4,4,t,e)}function ch(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fh(t,e,n){return n=n!=null?n.concat([t]):null,so(4,4,ch.bind(null,e,t),n)}function mu(){}function dh(t,e){var n=yt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&du(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hh(t,e){var n=yt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&du(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ph(t,e,n){return An&21?(Tt(n,e)||(n=wd(),ae.lanes|=n,zn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ye=!0),t.memoizedState=n)}function z0(t,e){var n=J;J=n!==0&&4>n?n:4,t(!0);var r=sl.transition;sl.transition={};try{t(!1),e()}finally{J=n,sl.transition=r}}function gh(){return yt().memoizedState}function $0(t,e,n){var r=pn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mh(t))vh(e,n);else if(n=Xd(t,e,n,r),n!==null){var i=Ue();xt(n,t,r,i),yh(n,e,r)}}function F0(t,e,n){var r=pn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mh(t))vh(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Tt(l,o)){var a=e.interleaved;a===null?(i.next=i,lu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Xd(t,e,i,r),n!==null&&(i=Ue(),xt(n,t,r,i),yh(n,e,r))}}function mh(t){var e=t.alternate;return t===ae||e!==null&&e===ae}function vh(t,e){si=Ws=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ka(t,n)}}var Vs={readContext:vt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},B0={readContext:vt,useCallback:function(t,e){return Lt().memoizedState=[t,e===void 0?null:e],t},useContext:vt,useEffect:jc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ps(4194308,4,ch.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ps(4194308,4,t,e)},useInsertionEffect:function(t,e){return ps(4,2,t,e)},useMemo:function(t,e){var n=Lt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$0.bind(null,ae,t),[r.memoizedState,t]},useRef:function(t){var e=Lt();return t={current:t},e.memoizedState=t},useState:Mc,useDebugValue:mu,useDeferredValue:function(t){return Lt().memoizedState=t},useTransition:function(){var t=Mc(!1),e=t[0];return t=z0.bind(null,t[1]),Lt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ae,i=Lt();if(oe){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),ke===null)throw Error(P(349));An&30||nh(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,jc(ih.bind(null,r,s,t),[t]),r.flags|=2048,xi(9,rh.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Lt(),e=ke.identifierPrefix;if(oe){var n=Bt,r=Ft;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ki++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=A0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},U0={readContext:vt,useCallback:dh,useContext:vt,useEffect:gu,useImperativeHandle:fh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:hh,useReducer:ol,useRef:lh,useState:function(){return ol(Oi)},useDebugValue:mu,useDeferredValue:function(t){var e=yt();return ph(e,we.memoizedState,t)},useTransition:function(){var t=ol(Oi)[0],e=yt().memoizedState;return[t,e]},useMutableSource:eh,useSyncExternalStore:th,useId:gh,unstable_isNewReconciler:!1},H0={readContext:vt,useCallback:dh,useContext:vt,useEffect:gu,useImperativeHandle:fh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:hh,useReducer:ll,useRef:lh,useState:function(){return ll(Oi)},useDebugValue:mu,useDeferredValue:function(t){var e=yt();return we===null?e.memoizedState=t:ph(e,we.memoizedState,t)},useTransition:function(){var t=ll(Oi)[0],e=yt().memoizedState;return[t,e]},useMutableSource:eh,useSyncExternalStore:th,useId:gh,unstable_isNewReconciler:!1};function _t(t,e){if(t&&t.defaultProps){e=ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oo={isMounted:function(t){return(t=t._reactInternals)?Un(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ue(),i=pn(t),s=Ut(r,i);s.payload=e,n!=null&&(s.callback=n),e=dn(t,s,i),e!==null&&(xt(e,t,i,r),ds(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ue(),i=pn(t),s=Ut(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=dn(t,s,i),e!==null&&(xt(e,t,i,r),ds(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ue(),r=pn(t),i=Ut(n,r);i.tag=2,e!=null&&(i.callback=e),e=dn(t,i,r),e!==null&&(xt(e,t,r,n),ds(e,t,r))}};function bc(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!yi(n,r)||!yi(i,s):!0}function wh(t,e,n){var r=!1,i=wn,s=e.contextType;return typeof s=="object"&&s!==null?s=vt(s):(i=Xe(e)?jn:Ae.current,r=e.contextTypes,s=(r=r!=null)?wr(t,i):wn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ac(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oo.enqueueReplaceState(e,e.state,null)}function oa(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},au(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=vt(s):(s=Xe(e)?jn:Ae.current,i.context=wr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(sa(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&oo.enqueueReplaceState(i,i.state,null),Us(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Cr(t,e){try{var n="",r=e;do n+=vg(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function al(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function la(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var W0=typeof WeakMap=="function"?WeakMap:Map;function Sh(t,e,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ks||(Ks=!0,va=r),la(t,e)},n}function _h(t,e,n){n=Ut(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){la(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){la(t,e),typeof r!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new W0;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=im.bind(null,t,e,n),e.then(t,t))}function $c(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fc(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ut(-1,1),e.tag=2,dn(n,e,1))),n.lanes|=1),t)}var V0=Kt.ReactCurrentOwner,Ye=!1;function Be(t,e,n,r){e.child=t===null?Gd(e,null,n,r):_r(e,t.child,n,r)}function Bc(t,e,n,r,i){n=n.render;var s=e.ref;return mr(e,i),r=hu(t,e,n,r,s,i),n=pu(),t!==null&&!Ye?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qt(t,e,i)):(oe&&n&&tu(e),e.flags|=1,Be(t,e,r,i),e.child)}function Uc(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ku(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Eh(t,e,s,r,i)):(t=ys(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:yi,n(o,r)&&t.ref===e.ref)return qt(t,e,i)}return e.flags|=1,t=gn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Eh(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(yi(s,r)&&t.ref===e.ref)if(Ye=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ye=!0);else return e.lanes=t.lanes,qt(t,e,i)}return aa(t,e,n,r,i)}function Ch(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(fr,rt),rt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ee(fr,rt),rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ee(fr,rt),rt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ee(fr,rt),rt|=r;return Be(t,e,i,n),e.child}function kh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function aa(t,e,n,r,i){var s=Xe(n)?jn:Ae.current;return s=wr(e,s),mr(e,i),n=hu(t,e,n,r,s,i),r=pu(),t!==null&&!Ye?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qt(t,e,i)):(oe&&r&&tu(e),e.flags|=1,Be(t,e,n,i),e.child)}function Hc(t,e,n,r,i){if(Xe(n)){var s=!0;As(e)}else s=!1;if(mr(e,i),e.stateNode===null)gs(t,e),wh(e,n,r),oa(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=vt(u):(u=Xe(n)?jn:Ae.current,u=wr(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Ac(e,o,r,u),tn=!1;var c=e.memoizedState;o.state=c,Us(e,r,o,i),a=e.memoizedState,l!==r||c!==a||Ge.current||tn?(typeof f=="function"&&(sa(e,n,f,r),a=e.memoizedState),(l=tn||bc(e,n,l,r,c,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Jd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:_t(e.type,l),o.props=u,h=e.pendingProps,c=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=vt(a):(a=Xe(n)?jn:Ae.current,a=wr(e,a));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||c!==a)&&Ac(e,o,r,a),tn=!1,c=e.memoizedState,o.state=c,Us(e,r,o,i);var g=e.memoizedState;l!==h||c!==g||Ge.current||tn?(typeof y=="function"&&(sa(e,n,y,r),g=e.memoizedState),(u=tn||bc(e,n,u,r,c,g,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),r=!1)}return ua(t,e,n,r,s,i)}function ua(t,e,n,r,i,s){kh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Dc(e,n,!1),qt(t,e,s);r=e.stateNode,V0.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_r(e,t.child,null,s),e.child=_r(e,null,l,s)):Be(t,e,l,s),e.memoizedState=r.state,i&&Dc(e,n,!0),e.child}function Oh(t){var e=t.stateNode;e.pendingContext?Tc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tc(t,e.context,!1),uu(t,e.containerInfo)}function Wc(t,e,n,r,i){return Sr(),ru(i),e.flags|=256,Be(t,e,n,r),e.child}var ca={dehydrated:null,treeContext:null,retryLane:0};function fa(t){return{baseLanes:t,cachePool:null,transitions:null}}function xh(t,e,n){var r=e.pendingProps,i=le.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ee(le,i&1),t===null)return ra(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=uo(o,r,0,null),t=In(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fa(n),e.memoizedState=ca,t):vu(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return q0(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=gn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=gn(l,s):(s=In(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?fa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ca,r}return s=t.child,t=s.sibling,r=gn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vu(t,e){return e=uo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xi(t,e,n,r){return r!==null&&ru(r),_r(e,t.child,null,n),t=vu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function q0(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=al(Error(P(422))),Xi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=uo({mode:"visible",children:r.children},i,0,null),s=In(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_r(e,t.child,null,o),e.child.memoizedState=fa(o),e.memoizedState=ca,s);if(!(e.mode&1))return Xi(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(P(419)),r=al(s,r,void 0),Xi(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ye||l){if(r=ke,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vt(t,i),xt(r,t,i,-1))}return Cu(),r=al(Error(P(421))),Xi(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=sm.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,it=fn(i.nextSibling),st=e,oe=!0,kt=null,t!==null&&(ft[dt++]=Ft,ft[dt++]=Bt,ft[dt++]=bn,Ft=t.id,Bt=t.overflow,bn=e),e=vu(e,r.children),e.flags|=4096,e)}function Vc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ia(t.return,e,n)}function ul(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Th(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Be(t,e,r.children,n),r=le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vc(t,n,e);else if(t.tag===19)Vc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ee(le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hs(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ul(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hs(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ul(e,!0,n,null,s);break;case"together":ul(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=gn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function K0(t,e,n){switch(e.tag){case 3:Oh(e),Sr();break;case 5:Zd(e);break;case 1:Xe(e.type)&&As(e);break;case 4:uu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ee(Fs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ee(le,le.current&1),e.flags|=128,null):n&e.child.childLanes?xh(t,e,n):(ee(le,le.current&1),t=qt(t,e,n),t!==null?t.sibling:null);ee(le,le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Th(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(le,le.current),r)break;return null;case 22:case 23:return e.lanes=0,Ch(t,e,n)}return qt(t,e,n)}var Dh,da,Ph,Nh;Dh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};da=function(){};Ph=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ln(Mt.current);var s=null;switch(n){case"input":i=Ml(t,i),r=Ml(t,r),s=[];break;case"select":i=ue({},i,{value:void 0}),r=ue({},r,{value:void 0}),s=[];break;case"textarea":i=Al(t,i),r=Al(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=js)}$l(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ne("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Nh=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hr(t,e){if(!oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Q0(t,e,n){var r=e.pendingProps;switch(nu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(e),null;case 1:return Xe(e.type)&&bs(),Me(e),null;case 3:return r=e.stateNode,Er(),re(Ge),re(Ae),fu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kt!==null&&(Sa(kt),kt=null))),da(t,e),Me(e),null;case 5:cu(e);var i=Ln(Ci.current);if(n=e.type,t!==null&&e.stateNode!=null)Ph(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return Me(e),null}if(t=Ln(Mt.current),Yi(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Rt]=e,r[_i]=s,t=(e.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(i=0;i<Xr.length;i++)ne(Xr[i],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":ec(r,s),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ne("invalid",r);break;case"textarea":nc(r,s),ne("invalid",r)}$l(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Qi(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Qi(r.textContent,l,t),i=["children",""+l]):fi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ne("scroll",r)}switch(n){case"input":Fi(r),tc(r,s,!0);break;case"textarea":Fi(r),rc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=js)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=id(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Rt]=e,t[_i]=r,Dh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fl(n,r),n){case"dialog":ne("cancel",t),ne("close",t),i=r;break;case"iframe":case"object":case"embed":ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xr.length;i++)ne(Xr[i],t);i=r;break;case"source":ne("error",t),i=r;break;case"img":case"image":case"link":ne("error",t),ne("load",t),i=r;break;case"details":ne("toggle",t),i=r;break;case"input":ec(t,r),i=Ml(t,r),ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ue({},r,{value:void 0}),ne("invalid",t);break;case"textarea":nc(t,r),i=Al(t,r),ne("invalid",t);break;default:i=r}$l(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?ld(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&sd(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&di(t,a):typeof a=="number"&&di(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ne("scroll",t):a!=null&&Ba(t,s,a,o))}switch(n){case"input":Fi(t),tc(t,r,!1);break;case"textarea":Fi(t),rc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?dr(t,!!r.multiple,s,!1):r.defaultValue!=null&&dr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=js)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Me(e),null;case 6:if(t&&e.stateNode!=null)Nh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Ln(Ci.current),Ln(Mt.current),Yi(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rt]=e,(s=r.nodeValue!==n)&&(t=st,t!==null))switch(t.tag){case 3:Qi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qi(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=e,e.stateNode=r}return Me(e),null;case 13:if(re(le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(oe&&it!==null&&e.mode&1&&!(e.flags&128))Qd(),Sr(),e.flags|=98560,s=!1;else if(s=Yi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[Rt]=e}else Sr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Me(e),s=!1}else kt!==null&&(Sa(kt),kt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||le.current&1?Se===0&&(Se=3):Cu())),e.updateQueue!==null&&(e.flags|=4),Me(e),null);case 4:return Er(),da(t,e),t===null&&wi(e.stateNode.containerInfo),Me(e),null;case 10:return ou(e.type._context),Me(e),null;case 17:return Xe(e.type)&&bs(),Me(e),null;case 19:if(re(le),s=e.memoizedState,s===null)return Me(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Hr(s,!1);else{if(Se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hs(t),o!==null){for(e.flags|=128,Hr(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ee(le,le.current&1|2),e.child}t=t.sibling}s.tail!==null&&de()>kr&&(e.flags|=128,r=!0,Hr(s,!1),e.lanes=4194304)}else{if(!r)if(t=Hs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!oe)return Me(e),null}else 2*de()-s.renderingStartTime>kr&&n!==1073741824&&(e.flags|=128,r=!0,Hr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=de(),e.sibling=null,n=le.current,ee(le,r?n&1|2:n&1),e):(Me(e),null);case 22:case 23:return Eu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rt&1073741824&&(Me(e),e.subtreeFlags&6&&(e.flags|=8192)):Me(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function Y0(t,e){switch(nu(e),e.tag){case 1:return Xe(e.type)&&bs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Er(),re(Ge),re(Ae),fu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cu(e),null;case 13:if(re(le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Sr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(le),null;case 4:return Er(),null;case 10:return ou(e.type._context),null;case 22:case 23:return Eu(),null;case 24:return null;default:return null}}var Ji=!1,be=!1,G0=typeof WeakSet=="function"?WeakSet:Set,M=null;function cr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ce(t,e,r)}else n.current=null}function ha(t,e,n){try{n()}catch(r){ce(t,e,r)}}var qc=!1;function X0(t,e){if(Gl=Rs,t=jd(),eu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,f=0,h=t,c=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)c=h,h=y;for(;;){if(h===t)break t;if(c===n&&++u===i&&(l=o),c===s&&++f===r&&(a=o),(y=h.nextSibling)!==null)break;h=c,c=h.parentNode}h=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xl={focusedElem:t,selectionRange:n},Rs=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,O=g.memoizedState,p=e.stateNode,d=p.getSnapshotBeforeUpdate(e.elementType===e.type?w:_t(e.type,w),O);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(k){ce(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return g=qc,qc=!1,g}function oi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ha(e,n,s)}i=i.next}while(i!==r)}}function lo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pa(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Lh(t){var e=t.alternate;e!==null&&(t.alternate=null,Lh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rt],delete e[_i],delete e[ea],delete e[I0],delete e[M0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rh(t){return t.tag===5||t.tag===3||t.tag===4}function Kc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ga(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=js));else if(r!==4&&(t=t.child,t!==null))for(ga(t,e,n),t=t.sibling;t!==null;)ga(t,e,n),t=t.sibling}function ma(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ma(t,e,n),t=t.sibling;t!==null;)ma(t,e,n),t=t.sibling}var De=null,Et=!1;function Xt(t,e,n){for(n=n.child;n!==null;)Ih(t,e,n),n=n.sibling}function Ih(t,e,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Zs,n)}catch{}switch(n.tag){case 5:be||cr(n,e);case 6:var r=De,i=Et;De=null,Xt(t,e,n),De=r,Et=i,De!==null&&(Et?(t=De,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(Et?(t=De,n=n.stateNode,t.nodeType===8?nl(t.parentNode,n):t.nodeType===1&&nl(t,n),mi(t)):nl(De,n.stateNode));break;case 4:r=De,i=Et,De=n.stateNode.containerInfo,Et=!0,Xt(t,e,n),De=r,Et=i;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ha(n,e,o),i=i.next}while(i!==r)}Xt(t,e,n);break;case 1:if(!be&&(cr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ce(n,e,l)}Xt(t,e,n);break;case 21:Xt(t,e,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,Xt(t,e,n),be=r):Xt(t,e,n);break;default:Xt(t,e,n)}}function Qc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new G0),e.forEach(function(r){var i=om.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function St(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:De=l.stateNode,Et=!1;break e;case 3:De=l.stateNode.containerInfo,Et=!0;break e;case 4:De=l.stateNode.containerInfo,Et=!0;break e}l=l.return}if(De===null)throw Error(P(160));Ih(s,o,i),De=null,Et=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ce(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Mh(e,t),e=e.sibling}function Mh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(St(e,t),Nt(t),r&4){try{oi(3,t,t.return),lo(3,t)}catch(w){ce(t,t.return,w)}try{oi(5,t,t.return)}catch(w){ce(t,t.return,w)}}break;case 1:St(e,t),Nt(t),r&512&&n!==null&&cr(n,n.return);break;case 5:if(St(e,t),Nt(t),r&512&&n!==null&&cr(n,n.return),t.flags&32){var i=t.stateNode;try{di(i,"")}catch(w){ce(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&nd(i,s),Fl(l,o);var u=Fl(l,s);for(o=0;o<a.length;o+=2){var f=a[o],h=a[o+1];f==="style"?ld(i,h):f==="dangerouslySetInnerHTML"?sd(i,h):f==="children"?di(i,h):Ba(i,f,h,u)}switch(l){case"input":jl(i,s);break;case"textarea":rd(i,s);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?dr(i,!!s.multiple,y,!1):c!==!!s.multiple&&(s.defaultValue!=null?dr(i,!!s.multiple,s.defaultValue,!0):dr(i,!!s.multiple,s.multiple?[]:"",!1))}i[_i]=s}catch(w){ce(t,t.return,w)}}break;case 6:if(St(e,t),Nt(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){ce(t,t.return,w)}}break;case 3:if(St(e,t),Nt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mi(e.containerInfo)}catch(w){ce(t,t.return,w)}break;case 4:St(e,t),Nt(t);break;case 13:St(e,t),Nt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Su=de())),r&4&&Qc(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(be=(u=be)||f,St(e,t),be=u):St(e,t),Nt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(M=t,f=t.child;f!==null;){for(h=M=f;M!==null;){switch(c=M,y=c.child,c.tag){case 0:case 11:case 14:case 15:oi(4,c,c.return);break;case 1:cr(c,c.return);var g=c.stateNode;if(typeof g.componentWillUnmount=="function"){r=c,n=c.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){ce(r,n,w)}}break;case 5:cr(c,c.return);break;case 22:if(c.memoizedState!==null){Gc(h);continue}}y!==null?(y.return=c,M=y):Gc(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=od("display",o))}catch(w){ce(t,t.return,w)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){ce(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:St(e,t),Nt(t),r&4&&Qc(t);break;case 21:break;default:St(e,t),Nt(t)}}function Nt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Rh(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(di(i,""),r.flags&=-33);var s=Kc(t);ma(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Kc(t);ga(t,l,o);break;default:throw Error(P(161))}}catch(a){ce(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function J0(t,e,n){M=t,jh(t)}function jh(t,e,n){for(var r=(t.mode&1)!==0;M!==null;){var i=M,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ji;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||be;l=Ji;var u=be;if(Ji=o,(be=a)&&!u)for(M=i;M!==null;)o=M,a=o.child,o.tag===22&&o.memoizedState!==null?Xc(i):a!==null?(a.return=o,M=a):Xc(i);for(;s!==null;)M=s,jh(s),s=s.sibling;M=i,Ji=l,be=u}Yc(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,M=s):Yc(t)}}function Yc(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:be||lo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!be)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_t(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ic(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ic(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&mi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}be||e.flags&512&&pa(e)}catch(c){ce(e,e.return,c)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function Gc(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function Xc(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lo(4,e)}catch(a){ce(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ce(e,i,a)}}var s=e.return;try{pa(e)}catch(a){ce(e,s,a)}break;case 5:var o=e.return;try{pa(e)}catch(a){ce(e,o,a)}}}catch(a){ce(e,e.return,a)}if(e===t){M=null;break}var l=e.sibling;if(l!==null){l.return=e.return,M=l;break}M=e.return}}var Z0=Math.ceil,qs=Kt.ReactCurrentDispatcher,yu=Kt.ReactCurrentOwner,mt=Kt.ReactCurrentBatchConfig,Y=0,ke=null,ge=null,Pe=0,rt=0,fr=_n(0),Se=0,Ti=null,zn=0,ao=0,wu=0,li=null,Qe=null,Su=0,kr=1/0,zt=null,Ks=!1,va=null,hn=null,Zi=!1,ln=null,Qs=0,ai=0,ya=null,ms=-1,vs=0;function Ue(){return Y&6?de():ms!==-1?ms:ms=de()}function pn(t){return t.mode&1?Y&2&&Pe!==0?Pe&-Pe:b0.transition!==null?(vs===0&&(vs=wd()),vs):(t=J,t!==0||(t=window.event,t=t===void 0?16:xd(t.type)),t):1}function xt(t,e,n,r){if(50<ai)throw ai=0,ya=null,Error(P(185));Li(t,n,r),(!(Y&2)||t!==ke)&&(t===ke&&(!(Y&2)&&(ao|=n),Se===4&&sn(t,Pe)),Je(t,r),n===1&&Y===0&&!(e.mode&1)&&(kr=de()+500,io&&En()))}function Je(t,e){var n=t.callbackNode;bg(t,e);var r=Ls(t,t===ke?Pe:0);if(r===0)n!==null&&oc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&oc(n),e===1)t.tag===0?j0(Jc.bind(null,t)):Vd(Jc.bind(null,t)),L0(function(){!(Y&6)&&En()}),n=null;else{switch(Sd(r)){case 1:n=qa;break;case 4:n=vd;break;case 16:n=Ns;break;case 536870912:n=yd;break;default:n=Ns}n=Hh(n,bh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bh(t,e){if(ms=-1,vs=0,Y&6)throw Error(P(327));var n=t.callbackNode;if(vr()&&t.callbackNode!==n)return null;var r=Ls(t,t===ke?Pe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ys(t,r);else{e=r;var i=Y;Y|=2;var s=zh();(ke!==t||Pe!==e)&&(zt=null,kr=de()+500,Rn(t,e));do try{nm();break}catch(l){Ah(t,l)}while(!0);su(),qs.current=s,Y=i,ge!==null?e=0:(ke=null,Pe=0,e=Se)}if(e!==0){if(e===2&&(i=Vl(t),i!==0&&(r=i,e=wa(t,i))),e===1)throw n=Ti,Rn(t,0),sn(t,r),Je(t,de()),n;if(e===6)sn(t,r);else{if(i=t.current.alternate,!(r&30)&&!em(i)&&(e=Ys(t,r),e===2&&(s=Vl(t),s!==0&&(r=s,e=wa(t,s))),e===1))throw n=Ti,Rn(t,0),sn(t,r),Je(t,de()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Dn(t,Qe,zt);break;case 3:if(sn(t,r),(r&130023424)===r&&(e=Su+500-de(),10<e)){if(Ls(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ue(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Zl(Dn.bind(null,t,Qe,zt),e);break}Dn(t,Qe,zt);break;case 4:if(sn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ot(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Z0(r/1960))-r,10<r){t.timeoutHandle=Zl(Dn.bind(null,t,Qe,zt),r);break}Dn(t,Qe,zt);break;case 5:Dn(t,Qe,zt);break;default:throw Error(P(329))}}}return Je(t,de()),t.callbackNode===n?bh.bind(null,t):null}function wa(t,e){var n=li;return t.current.memoizedState.isDehydrated&&(Rn(t,e).flags|=256),t=Ys(t,e),t!==2&&(e=Qe,Qe=n,e!==null&&Sa(e)),t}function Sa(t){Qe===null?Qe=t:Qe.push.apply(Qe,t)}function em(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sn(t,e){for(e&=~wu,e&=~ao,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ot(e),r=1<<n;t[n]=-1,e&=~r}}function Jc(t){if(Y&6)throw Error(P(327));vr();var e=Ls(t,0);if(!(e&1))return Je(t,de()),null;var n=Ys(t,e);if(t.tag!==0&&n===2){var r=Vl(t);r!==0&&(e=r,n=wa(t,r))}if(n===1)throw n=Ti,Rn(t,0),sn(t,e),Je(t,de()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Dn(t,Qe,zt),Je(t,de()),null}function _u(t,e){var n=Y;Y|=1;try{return t(e)}finally{Y=n,Y===0&&(kr=de()+500,io&&En())}}function $n(t){ln!==null&&ln.tag===0&&!(Y&6)&&vr();var e=Y;Y|=1;var n=mt.transition,r=J;try{if(mt.transition=null,J=1,t)return t()}finally{J=r,mt.transition=n,Y=e,!(Y&6)&&En()}}function Eu(){rt=fr.current,re(fr)}function Rn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,N0(n)),ge!==null)for(n=ge.return;n!==null;){var r=n;switch(nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bs();break;case 3:Er(),re(Ge),re(Ae),fu();break;case 5:cu(r);break;case 4:Er();break;case 13:re(le);break;case 19:re(le);break;case 10:ou(r.type._context);break;case 22:case 23:Eu()}n=n.return}if(ke=t,ge=t=gn(t.current,null),Pe=rt=e,Se=0,Ti=null,wu=ao=zn=0,Qe=li=null,Nn!==null){for(e=0;e<Nn.length;e++)if(n=Nn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Nn=null}return t}function Ah(t,e){do{var n=ge;try{if(su(),hs.current=Vs,Ws){for(var r=ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ws=!1}if(An=0,Ce=we=ae=null,si=!1,ki=0,yu.current=null,n===null||n.return===null){Se=1,Ti=e,ge=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=Pe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var c=f.alternate;c?(f.updateQueue=c.updateQueue,f.memoizedState=c.memoizedState,f.lanes=c.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=$c(o);if(y!==null){y.flags&=-257,Fc(y,o,l,s,e),y.mode&1&&zc(s,u,e),e=y,a=u;var g=e.updateQueue;if(g===null){var w=new Set;w.add(a),e.updateQueue=w}else g.add(a);break e}else{if(!(e&1)){zc(s,u,e),Cu();break e}a=Error(P(426))}}else if(oe&&l.mode&1){var O=$c(o);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Fc(O,o,l,s,e),ru(Cr(a,l));break e}}s=a=Cr(a,l),Se!==4&&(Se=2),li===null?li=[s]:li.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=Sh(s,a,e);Rc(s,p);break e;case 1:l=a;var d=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(hn===null||!hn.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=_h(s,l,e);Rc(s,k);break e}}s=s.return}while(s!==null)}Fh(n)}catch(N){e=N,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function zh(){var t=qs.current;return qs.current=Vs,t===null?Vs:t}function Cu(){(Se===0||Se===3||Se===2)&&(Se=4),ke===null||!(zn&268435455)&&!(ao&268435455)||sn(ke,Pe)}function Ys(t,e){var n=Y;Y|=2;var r=zh();(ke!==t||Pe!==e)&&(zt=null,Rn(t,e));do try{tm();break}catch(i){Ah(t,i)}while(!0);if(su(),Y=n,qs.current=r,ge!==null)throw Error(P(261));return ke=null,Pe=0,Se}function tm(){for(;ge!==null;)$h(ge)}function nm(){for(;ge!==null&&!Tg();)$h(ge)}function $h(t){var e=Uh(t.alternate,t,rt);t.memoizedProps=t.pendingProps,e===null?Fh(t):ge=e,yu.current=null}function Fh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Y0(n,e),n!==null){n.flags&=32767,ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Se=6,ge=null;return}}else if(n=Q0(n,e,rt),n!==null){ge=n;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);Se===0&&(Se=5)}function Dn(t,e,n){var r=J,i=mt.transition;try{mt.transition=null,J=1,rm(t,e,n,r)}finally{mt.transition=i,J=r}return null}function rm(t,e,n,r){do vr();while(ln!==null);if(Y&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ag(t,s),t===ke&&(ge=ke=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zi||(Zi=!0,Hh(Ns,function(){return vr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mt.transition,mt.transition=null;var o=J;J=1;var l=Y;Y|=4,yu.current=null,X0(t,n),Mh(n,t),C0(Xl),Rs=!!Gl,Xl=Gl=null,t.current=n,J0(n),Dg(),Y=l,J=o,mt.transition=s}else t.current=n;if(Zi&&(Zi=!1,ln=t,Qs=i),s=t.pendingLanes,s===0&&(hn=null),Lg(n.stateNode),Je(t,de()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,t=va,va=null,t;return Qs&1&&t.tag!==0&&vr(),s=t.pendingLanes,s&1?t===ya?ai++:(ai=0,ya=t):ai=0,En(),null}function vr(){if(ln!==null){var t=Sd(Qs),e=mt.transition,n=J;try{if(mt.transition=null,J=16>t?16:t,ln===null)var r=!1;else{if(t=ln,ln=null,Qs=0,Y&6)throw Error(P(331));var i=Y;for(Y|=4,M=t.current;M!==null;){var s=M,o=s.child;if(M.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(M=u;M!==null;){var f=M;switch(f.tag){case 0:case 11:case 15:oi(8,f,s)}var h=f.child;if(h!==null)h.return=f,M=h;else for(;M!==null;){f=M;var c=f.sibling,y=f.return;if(Lh(f),f===u){M=null;break}if(c!==null){c.return=y,M=c;break}M=y}}}var g=s.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var O=w.sibling;w.sibling=null,w=O}while(w!==null)}}M=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,M=o;else e:for(;M!==null;){if(s=M,s.flags&2048)switch(s.tag){case 0:case 11:case 15:oi(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,M=p;break e}M=s.return}}var d=t.current;for(M=d;M!==null;){o=M;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,M=v;else e:for(o=d;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lo(9,l)}}catch(N){ce(l,l.return,N)}if(l===o){M=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,M=k;break e}M=l.return}}if(Y=i,En(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Zs,t)}catch{}r=!0}return r}finally{J=n,mt.transition=e}}return!1}function Zc(t,e,n){e=Cr(n,e),e=Sh(t,e,1),t=dn(t,e,1),e=Ue(),t!==null&&(Li(t,1,e),Je(t,e))}function ce(t,e,n){if(t.tag===3)Zc(t,t,n);else for(;e!==null;){if(e.tag===3){Zc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hn===null||!hn.has(r))){t=Cr(n,t),t=_h(e,t,1),e=dn(e,t,1),t=Ue(),e!==null&&(Li(e,1,t),Je(e,t));break}}e=e.return}}function im(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ue(),t.pingedLanes|=t.suspendedLanes&n,ke===t&&(Pe&n)===n&&(Se===4||Se===3&&(Pe&130023424)===Pe&&500>de()-Su?Rn(t,0):wu|=n),Je(t,e)}function Bh(t,e){e===0&&(t.mode&1?(e=Hi,Hi<<=1,!(Hi&130023424)&&(Hi=4194304)):e=1);var n=Ue();t=Vt(t,e),t!==null&&(Li(t,e,n),Je(t,n))}function sm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Bh(t,n)}function om(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),Bh(t,n)}var Uh;Uh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ge.current)Ye=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ye=!1,K0(t,e,n);Ye=!!(t.flags&131072)}else Ye=!1,oe&&e.flags&1048576&&qd(e,$s,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gs(t,e),t=e.pendingProps;var i=wr(e,Ae.current);mr(e,n),i=hu(null,e,r,t,i,n);var s=pu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xe(r)?(s=!0,As(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,au(e),i.updater=oo,e.stateNode=i,i._reactInternals=e,oa(e,r,t,n),e=ua(null,e,r,!0,s,n)):(e.tag=0,oe&&s&&tu(e),Be(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gs(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=am(r),t=_t(r,t),i){case 0:e=aa(null,e,r,t,n);break e;case 1:e=Hc(null,e,r,t,n);break e;case 11:e=Bc(null,e,r,t,n);break e;case 14:e=Uc(null,e,r,_t(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_t(r,i),aa(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_t(r,i),Hc(t,e,r,i,n);case 3:e:{if(Oh(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Jd(t,e),Us(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Cr(Error(P(423)),e),e=Wc(t,e,r,n,i);break e}else if(r!==i){i=Cr(Error(P(424)),e),e=Wc(t,e,r,n,i);break e}else for(it=fn(e.stateNode.containerInfo.firstChild),st=e,oe=!0,kt=null,n=Gd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sr(),r===i){e=qt(t,e,n);break e}Be(t,e,r,n)}e=e.child}return e;case 5:return Zd(e),t===null&&ra(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Jl(r,i)?o=null:s!==null&&Jl(r,s)&&(e.flags|=32),kh(t,e),Be(t,e,o,n),e.child;case 6:return t===null&&ra(e),null;case 13:return xh(t,e,n);case 4:return uu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_r(e,null,r,n):Be(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_t(r,i),Bc(t,e,r,i,n);case 7:return Be(t,e,e.pendingProps,n),e.child;case 8:return Be(t,e,e.pendingProps.children,n),e.child;case 12:return Be(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ee(Fs,r._currentValue),r._currentValue=o,s!==null)if(Tt(s.value,o)){if(s.children===i.children&&!Ge.current){e=qt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Ut(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ia(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ia(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Be(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,mr(e,n),i=vt(i),r=r(i),e.flags|=1,Be(t,e,r,n),e.child;case 14:return r=e.type,i=_t(r,e.pendingProps),i=_t(r.type,i),Uc(t,e,r,i,n);case 15:return Eh(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_t(r,i),gs(t,e),e.tag=1,Xe(r)?(t=!0,As(e)):t=!1,mr(e,n),wh(e,r,i),oa(e,r,i,n),ua(null,e,r,!0,t,n);case 19:return Th(t,e,n);case 22:return Ch(t,e,n)}throw Error(P(156,e.tag))};function Hh(t,e){return md(t,e)}function lm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(t,e,n,r){return new lm(t,e,n,r)}function ku(t){return t=t.prototype,!(!t||!t.isReactComponent)}function am(t){if(typeof t=="function")return ku(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ha)return 11;if(t===Wa)return 14}return 2}function gn(t,e){var n=t.alternate;return n===null?(n=gt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ys(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ku(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case tr:return In(n.children,i,s,e);case Ua:o=8,i|=8;break;case Nl:return t=gt(12,n,e,i|2),t.elementType=Nl,t.lanes=s,t;case Ll:return t=gt(13,n,e,i),t.elementType=Ll,t.lanes=s,t;case Rl:return t=gt(19,n,e,i),t.elementType=Rl,t.lanes=s,t;case Zf:return uo(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xf:o=10;break e;case Jf:o=9;break e;case Ha:o=11;break e;case Wa:o=14;break e;case en:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=gt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function In(t,e,n,r){return t=gt(7,t,r,e),t.lanes=n,t}function uo(t,e,n,r){return t=gt(22,t,r,e),t.elementType=Zf,t.lanes=n,t.stateNode={isHidden:!1},t}function cl(t,e,n){return t=gt(6,t,null,e),t.lanes=n,t}function fl(t,e,n){return e=gt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function um(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vo(0),this.expirationTimes=Vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ou(t,e,n,r,i,s,o,l,a){return t=new um(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},au(s),t}function cm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:er,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wh(t){if(!t)return wn;t=t._reactInternals;e:{if(Un(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Xe(n))return Wd(t,n,e)}return e}function Vh(t,e,n,r,i,s,o,l,a){return t=Ou(n,r,!0,t,i,s,o,l,a),t.context=Wh(null),n=t.current,r=Ue(),i=pn(n),s=Ut(r,i),s.callback=e??null,dn(n,s,i),t.current.lanes=i,Li(t,i,r),Je(t,r),t}function co(t,e,n,r){var i=e.current,s=Ue(),o=pn(i);return n=Wh(n),e.context===null?e.context=n:e.pendingContext=n,e=Ut(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=dn(i,e,o),t!==null&&(xt(t,i,o,s),ds(t,i,o)),o}function Gs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ef(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xu(t,e){ef(t,e),(t=t.alternate)&&ef(t,e)}function fm(){return null}var qh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tu(t){this._internalRoot=t}fo.prototype.render=Tu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));co(t,e,null,null)};fo.prototype.unmount=Tu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$n(function(){co(null,t,null,null)}),e[Wt]=null}};function fo(t){this._internalRoot=t}fo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rn.length&&e!==0&&e<rn[n].priority;n++);rn.splice(n,0,t),n===0&&Od(t)}};function Du(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ho(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tf(){}function dm(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Gs(o);s.call(u)}}var o=Vh(e,r,t,0,null,!1,!1,"",tf);return t._reactRootContainer=o,t[Wt]=o.current,wi(t.nodeType===8?t.parentNode:t),$n(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Gs(a);l.call(u)}}var a=Ou(t,0,!1,null,null,!1,!1,"",tf);return t._reactRootContainer=a,t[Wt]=a.current,wi(t.nodeType===8?t.parentNode:t),$n(function(){co(e,a,n,r)}),a}function po(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Gs(o);l.call(a)}}co(e,o,t,i)}else o=dm(n,e,t,i,r);return Gs(o)}_d=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gr(e.pendingLanes);n!==0&&(Ka(e,n|1),Je(e,de()),!(Y&6)&&(kr=de()+500,En()))}break;case 13:$n(function(){var r=Vt(t,1);if(r!==null){var i=Ue();xt(r,t,1,i)}}),xu(t,1)}};Qa=function(t){if(t.tag===13){var e=Vt(t,134217728);if(e!==null){var n=Ue();xt(e,t,134217728,n)}xu(t,134217728)}};Ed=function(t){if(t.tag===13){var e=pn(t),n=Vt(t,e);if(n!==null){var r=Ue();xt(n,t,e,r)}xu(t,e)}};Cd=function(){return J};kd=function(t,e){var n=J;try{return J=t,e()}finally{J=n}};Ul=function(t,e,n){switch(e){case"input":if(jl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ro(r);if(!i)throw Error(P(90));td(r),jl(r,i)}}}break;case"textarea":rd(t,n);break;case"select":e=n.value,e!=null&&dr(t,!!n.multiple,e,!1)}};cd=_u;fd=$n;var hm={usingClientEntryPoint:!1,Events:[Ii,sr,ro,ad,ud,_u]},Wr={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pm={bundleType:Wr.bundleType,version:Wr.version,rendererPackageName:Wr.rendererPackageName,rendererConfig:Wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pd(t),t===null?null:t.stateNode},findFiberByHostInstance:Wr.findFiberByHostInstance||fm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!es.isDisabled&&es.supportsFiber)try{Zs=es.inject(pm),It=es}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hm;lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Du(e))throw Error(P(200));return cm(t,e,null,n)};lt.createRoot=function(t,e){if(!Du(t))throw Error(P(299));var n=!1,r="",i=qh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ou(t,1,!1,null,null,n,!1,r,i),t[Wt]=e.current,wi(t.nodeType===8?t.parentNode:t),new Tu(e)};lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=pd(e),t=t===null?null:t.stateNode,t};lt.flushSync=function(t){return $n(t)};lt.hydrate=function(t,e,n){if(!ho(e))throw Error(P(200));return po(null,t,e,!0,n)};lt.hydrateRoot=function(t,e,n){if(!Du(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=qh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Vh(e,null,t,1,n??null,i,!1,s,o),t[Wt]=e.current,wi(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fo(e)};lt.render=function(t,e,n){if(!ho(e))throw Error(P(200));return po(null,t,e,!1,n)};lt.unmountComponentAtNode=function(t){if(!ho(t))throw Error(P(40));return t._reactRootContainer?($n(function(){po(null,null,t,!1,function(){t._reactRootContainer=null,t[Wt]=null})}),!0):!1};lt.unstable_batchedUpdates=_u;lt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ho(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return po(t,e,n,!1,r)};lt.version="18.3.1-next-f1338f8080-20240426";function Kh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kh)}catch(t){console.error(t)}}Kh(),Kf.exports=lt;var gm=Kf.exports,Qh,nf=gm;Qh=nf.createRoot,nf.hydrateRoot;const bt=Object.create(null);bt.open="0";bt.close="1";bt.ping="2";bt.pong="3";bt.message="4";bt.upgrade="5";bt.noop="6";const ws=Object.create(null);Object.keys(bt).forEach(t=>{ws[bt[t]]=t});const _a={type:"error",data:"parser error"},Yh=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Gh=typeof ArrayBuffer=="function",Xh=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Pu=({type:t,data:e},n,r)=>Yh&&e instanceof Blob?n?r(e):rf(e,r):Gh&&(e instanceof ArrayBuffer||Xh(e))?n?r(e):rf(new Blob([e]),r):r(bt[t]+(e||"")),rf=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function sf(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let dl;function mm(t,e){if(Yh&&t.data instanceof Blob)return t.data.arrayBuffer().then(sf).then(e);if(Gh&&(t.data instanceof ArrayBuffer||Xh(t.data)))return e(sf(t.data));Pu(t,!1,n=>{dl||(dl=new TextEncoder),e(dl.encode(n))})}const of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<of.length;t++)Jr[of.charCodeAt(t)]=t;const vm=t=>{let e=t.length*.75,n=t.length,r,i=0,s,o,l,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),f=new Uint8Array(u);for(r=0;r<n;r+=4)s=Jr[t.charCodeAt(r)],o=Jr[t.charCodeAt(r+1)],l=Jr[t.charCodeAt(r+2)],a=Jr[t.charCodeAt(r+3)],f[i++]=s<<2|o>>4,f[i++]=(o&15)<<4|l>>2,f[i++]=(l&3)<<6|a&63;return u},ym=typeof ArrayBuffer=="function",Nu=(t,e)=>{if(typeof t!="string")return{type:"message",data:Jh(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:wm(t.substring(1),e)}:ws[n]?t.length>1?{type:ws[n],data:t.substring(1)}:{type:ws[n]}:_a},wm=(t,e)=>{if(ym){const n=vm(t);return Jh(n,e)}else return{base64:!0,data:t}},Jh=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Zh="",Sm=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,o)=>{Pu(s,!1,l=>{r[o]=l,++i===n&&e(r.join(Zh))})})},_m=(t,e)=>{const n=t.split(Zh),r=[];for(let i=0;i<n.length;i++){const s=Nu(n[i],e);if(r.push(s),s.type==="error")break}return r};function Em(){return new TransformStream({transform(t,e){mm(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let hl;function ts(t){return t.reduce((e,n)=>e+n.length,0)}function ns(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function Cm(t,e){hl||(hl=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(ts(n)<1)break;const a=ns(n,1);s=(a[0]&128)===128,i=a[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(ts(n)<2)break;const a=ns(n,2);i=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),r=3}else if(r===2){if(ts(n)<8)break;const a=ns(n,8),u=new DataView(a.buffer,a.byteOffset,a.length),f=u.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(_a);break}i=f*Math.pow(2,32)+u.getUint32(4),r=3}else{if(ts(n)<i)break;const a=ns(n,i);l.enqueue(Nu(s?a:hl.decode(a),e)),r=0}if(i===0||i>t){l.enqueue(_a);break}}}})}const ep=4;function me(t){if(t)return km(t)}function km(t){for(var e in me.prototype)t[e]=me.prototype[e];return t}me.prototype.on=me.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};me.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};me.prototype.off=me.prototype.removeListener=me.prototype.removeAllListeners=me.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};me.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};me.prototype.emitReserved=me.prototype.emit;me.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};me.prototype.hasListeners=function(t){return!!this.listeners(t).length};const go=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),ht=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Om="arraybuffer";function tp(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const xm=ht.setTimeout,Tm=ht.clearTimeout;function mo(t,e){e.useNativeTimers?(t.setTimeoutFn=xm.bind(ht),t.clearTimeoutFn=Tm.bind(ht)):(t.setTimeoutFn=ht.setTimeout.bind(ht),t.clearTimeoutFn=ht.clearTimeout.bind(ht))}const Dm=1.33;function Pm(t){return typeof t=="string"?Nm(t):Math.ceil((t.byteLength||t.size)*Dm)}function Nm(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function np(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Lm(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Rm(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class Im extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Lu extends me{constructor(e){super(),this.writable=!1,mo(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new Im(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Nu(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Lm(e);return n.length?"?"+n:""}}class Mm extends Lu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};_m(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Sm(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=np()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let rp=!1;try{rp=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const jm=rp;function bm(){}class Am extends Mm{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class jt extends me{constructor(e,n,r){super(),this.createRequest=e,mo(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=tp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=jt.requestsCount++,jt.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=bm,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete jt.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}jt.requestsCount=0;jt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",lf);else if(typeof addEventListener=="function"){const t="onpagehide"in ht?"pagehide":"unload";addEventListener(t,lf,!1)}}function lf(){for(let t in jt.requests)jt.requests.hasOwnProperty(t)&&jt.requests[t].abort()}const zm=function(){const t=ip({xdomain:!1});return t&&t.responseType!==null}();class $m extends Am{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=zm&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new jt(ip,this.uri(),e)}}function ip(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||jm))return new XMLHttpRequest}catch{}if(!e)try{return new ht[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const sp=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Fm extends Lu{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=sp?{}:tp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;Pu(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&go(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=np()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const pl=ht.WebSocket||ht.MozWebSocket;class Bm extends Fm{createSocket(e,n,r){return sp?new pl(e,n,r):n?new pl(e,n):new pl(e)}doWrite(e,n){this.ws.send(n)}}class Um extends Lu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=Cm(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=Em();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:l,value:a})=>{l||(this.onPacket(a),s())}).catch(l=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&go(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Hm={websocket:Bm,webtransport:Um,polling:$m},Wm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Vm=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ea(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=Wm.exec(t||""),s={},o=14;for(;o--;)s[Vm[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=qm(s,s.path),s.queryKey=Km(s,s.query),s}function qm(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Km(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const Ca=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ss=[];Ca&&addEventListener("offline",()=>{Ss.forEach(t=>t())},!1);class mn extends me{constructor(e,n){if(super(),this.binaryType=Om,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=Ea(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Ea(n.host).host);mo(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Rm(this.opts.query)),Ca&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ss.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=ep,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&mn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",mn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=Pm(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,go(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(mn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ca&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Ss.indexOf(this._offlineEventListener);r!==-1&&Ss.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}mn.protocol=ep;class Qm extends mn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;mn.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;mn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const c=new Error("probe error");c.transport=n.name,this.emitReserved("upgradeError",c)}}))};function s(){r||(r=!0,f(),n.close(),n=null)}const o=h=>{const c=new Error("probe error: "+h);c.transport=n.name,s(),this.emitReserved("upgradeError",c)};function l(){o("transport closed")}function a(){o("socket closed")}function u(h){n&&h.name!==n.name&&s()}const f=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",l),this.off("close",a),this.off("upgrading",u)};n.once("open",i),n.once("error",o),n.once("close",l),this.once("close",a),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let Ym=class extends Qm{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Hm[i]).filter(i=>!!i)),super(e,r)}};function Gm(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Ea(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const Xm=typeof ArrayBuffer=="function",Jm=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,op=Object.prototype.toString,Zm=typeof Blob=="function"||typeof Blob<"u"&&op.call(Blob)==="[object BlobConstructor]",ev=typeof File=="function"||typeof File<"u"&&op.call(File)==="[object FileConstructor]";function Ru(t){return Xm&&(t instanceof ArrayBuffer||Jm(t))||Zm&&t instanceof Blob||ev&&t instanceof File}function _s(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(_s(t[n]))return!0;return!1}if(Ru(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return _s(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&_s(t[n]))return!0;return!1}function tv(t){const e=[],n=t.data,r=t;return r.data=ka(n,e),r.attachments=e.length,{packet:r,buffers:e}}function ka(t,e){if(!t)return t;if(Ru(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=ka(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=ka(t[r],e));return n}return t}function nv(t,e){return t.data=Oa(t.data,e),delete t.attachments,t}function Oa(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Oa(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Oa(t[n],e));return t}const rv=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],iv=5;var K;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(K||(K={}));class sv{constructor(e){this.replacer=e}encode(e){return(e.type===K.EVENT||e.type===K.ACK)&&_s(e)?this.encodeAsBinary({type:e.type===K.EVENT?K.BINARY_EVENT:K.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===K.BINARY_EVENT||e.type===K.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=tv(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function af(t){return Object.prototype.toString.call(t)==="[object Object]"}class Iu extends me{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===K.BINARY_EVENT;r||n.type===K.BINARY_ACK?(n.type=r?K.EVENT:K.ACK,this.reconstructor=new ov(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ru(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(K[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===K.BINARY_EVENT||r.type===K.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(Iu.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case K.CONNECT:return af(n);case K.DISCONNECT:return n===void 0;case K.CONNECT_ERROR:return typeof n=="string"||af(n);case K.EVENT:case K.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&rv.indexOf(n[0])===-1);case K.ACK:case K.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ov{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=nv(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const lv=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Iu,Encoder:sv,get PacketType(){return K},protocol:iv},Symbol.toStringTag,{value:"Module"}));function Ct(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const av=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class lp extends me{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ct(e,"open",this.onopen.bind(this)),Ct(e,"packet",this.onpacket.bind(this)),Ct(e,"error",this.onerror.bind(this)),Ct(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,s;if(av.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:K.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const f=this.ids++,h=n.pop();this._registerAckCallback(f,h),o.id=f}const l=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,a=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(a?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(s),n.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(o,l)=>o?i(o):r(l);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:K.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case K.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case K.EVENT:case K.BINARY_EVENT:this.onevent(e);break;case K.ACK:case K.BINARY_ACK:this.onack(e);break;case K.DISCONNECT:this.ondisconnect();break;case K.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:K.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:K.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Pr(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Pr.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Pr.prototype.reset=function(){this.attempts=0};Pr.prototype.setMin=function(t){this.ms=t};Pr.prototype.setMax=function(t){this.max=t};Pr.prototype.setJitter=function(t){this.jitter=t};class xa extends me{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,mo(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Pr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||lv;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ym(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Ct(n,"open",function(){r.onopen(),e&&e()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=Ct(n,"error",s);if(this._timeout!==!1){const l=this._timeout,a=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},l);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ct(e,"ping",this.onping.bind(this)),Ct(e,"data",this.ondata.bind(this)),Ct(e,"error",this.onerror.bind(this)),Ct(e,"close",this.onclose.bind(this)),Ct(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){go(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new lp(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Vr={};function Es(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Gm(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Vr[i]&&s in Vr[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let a;return l?a=new xa(r,e):(Vr[i]||(Vr[i]=new xa(r,e)),a=Vr[i]),n.query&&!e.query&&(e.query=n.queryKey),a.socket(n.path,e)}Object.assign(Es,{Manager:xa,Socket:lp,io:Es,connect:Es});function uv({state:t,analysis:e}){return m.jsxs("div",{children:[m.jsx("h3",{children:"Partie"}),m.jsx("div",{style:{whiteSpace:"pre-wrap",fontFamily:"ui-monospace, SFMono-Regular, Menlo, monospace",fontSize:12,lineHeight:1.4},children:(t==null?void 0:t.pgn)||""}),m.jsx("hr",{style:{borderColor:"#1f2937",margin:"12px 0"}}),m.jsx("h3",{children:"Analyse"}),!e&&m.jsx("div",{children:"Nach Spielende auf Analyse klicken."}),e&&m.jsxs("div",{children:[m.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:Object.entries(e.summary).map(([n,r])=>m.jsxs("span",{className:"badge",children:[n,": ",r]},n))}),m.jsx("div",{style:{marginTop:8,maxHeight:300,overflow:"auto"},children:e.moves.map(n=>m.jsxs("div",{className:"row",style:{justifyContent:"space-between"},children:[m.jsxs("div",{children:["#",n.ply," ",n.side[0]==="W"?"":""," ",n.san]}),m.jsxs("div",{className:"badge",children:[n.label," (",n.cpChange,"cp)"]})]},n.ply))})]})]})}function cv({evalCp:t=0}){const e=Math.max(0,Math.min(100,50+t/10));return m.jsx("div",{className:"evalbar",children:m.jsx("div",{className:"marker",style:{top:100-e+"%"}})})}function fv(t){return t!==null?{comment:t,variations:[]}:{variations:[]}}function dv(t,e,n,r,i){const s={move:t,variations:i};return e&&(s.suffix=e),n&&(s.nag=n),r!==null&&(s.comment=r),s}function hv(...t){const[e,...n]=t;let r=e;for(const i of n)i!==null&&(r.variations=[i,...i.variations],i.variations=[],r=i);return e}function pv(t,e){if(e.marker&&e.marker.comment){let n=e.root;for(;;){const r=n.variations[0];if(!r){n.comment=e.marker.comment;break}n=r}}return{headers:t,root:e.root,result:(e.marker&&e.marker.result)??void 0}}function gv(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function Or(t,e,n,r){var i=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(i,Or.prototype),i.expected=e,i.found=n,i.location=r,i.name="SyntaxError",i}gv(Or,Error);function gl(t,e,n){return n=n||" ",t.length>e?t:(e-=t.length,n+=n.repeat(e),t+n.slice(0,e))}Or.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var n=null,r;for(r=0;r<t.length;r++)if(t[r].source===this.location.source){n=t[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,s=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,o=this.location.source+":"+s.line+":"+s.column;if(n){var l=this.location.end,a=gl("",s.line.toString().length," "),u=n[i.line-1],f=i.line===l.line?l.column:u.length+1,h=f-i.column||1;e+=`
 --> `+o+`
`+a+` |
`+s.line+" | "+u+`
`+a+" | "+gl("",i.column-1," ")+gl("",h,"^")}else e+=`
 at `+o}return e};Or.buildMessage=function(t,e){var n={literal:function(u){return'"'+i(u.text)+'"'},class:function(u){var f=u.parts.map(function(h){return Array.isArray(h)?s(h[0])+"-"+s(h[1]):s(h)});return"["+(u.inverted?"^":"")+f.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(u){return u.description}};function r(u){return u.charCodeAt(0).toString(16).toUpperCase()}function i(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+r(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+r(f)})}function s(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+r(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+r(f)})}function o(u){return n[u.type](u)}function l(u){var f=u.map(o),h,c;if(f.sort(),f.length>0){for(h=1,c=1;h<f.length;h++)f[h-1]!==f[h]&&(f[c]=f[h],c++);f.length=c}switch(f.length){case 1:return f[0];case 2:return f[0]+" or "+f[1];default:return f.slice(0,-1).join(", ")+", or "+f[f.length-1]}}function a(u){return u?'"'+i(u)+'"':"end of input"}return"Expected "+l(t)+" but "+a(e)+" found."};function mv(t,e){e=e!==void 0?e:{};var n={},r=e.grammarSource,i={pgn:Uu},s=Uu,o="[",l='"',a="]",u=".",f="O-O-O",h="O-O",c="0-0-0",y="0-0",g="$",w="{",O="}",p=";",d="(",v=")",k="1-0",N="0-1",L="1/2-1/2",T="*",R=/^[a-zA-Z]/,Q=/^[^"]/,z=/^[0-9]/,fe=/^[.]/,te=/^[a-zA-Z1-8\-=]/,he=/^[+#]/,Ze=/^[!?]/,Ve=/^[^}]/,Le=/^[^\r\n]/,Oe=/^[ \t\r\n]/,I=Ke("tag pair"),F=q("[",!1),U=q('"',!1),Z=q("]",!1),ie=Ke("tag name"),ut=ve([["a","z"],["A","Z"]],!1,!1),ze=Ke("tag value"),Dt=ve(['"'],!0,!1),$e=Ke("move number"),H=ve([["0","9"]],!1,!1),wt=q(".",!1),At=ve(["."],!1,!1),Cn=Ke("standard algebraic notation"),Re=q("O-O-O",!1),qe=q("O-O",!1),Wn=q("0-0-0",!1),Co=q("0-0",!1),Vn=ve([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),Yt=ve(["+","#"],!1,!1),ko=Ke("suffix annotation"),qn=ve(["!","?"],!1,!1),Oo=Ke("NAG"),ji=q("$",!1),xo=Ke("brace comment"),Nr=q("{",!1),Lr=ve(["}"],!0,!1),Rr=q("}",!1),Pt=Ke("rest of line comment"),Ir=q(";",!1),kn=ve(["\r",`
`],!0,!1),To=Ke("variation"),Do=q("(",!1),Po=q(")",!1),Kn=Ke("game termination marker"),Qn=q("1-0",!1),Yn=q("0-1",!1),Gn=q("1/2-1/2",!1),No=q("*",!1),Lo=Ke("whitespace"),bi=ve([" ","	","\r",`
`],!1,!1),Ro=function(S,E){return pv(S,E)},Mr=function(S){return Object.fromEntries(S)},Io=function(S,E){return[S,E]},Mo=function(S,E){return{root:S,marker:E}},jo=function(S,E){return hv(fv(S),...E.flat())},bo=function(S,E,C,b,A){return dv(S,E,C,b,A)},jr=function(S){return S},Ao=function(S){return S.replace(/[\r\n]+/g," ")},Xn=function(S){return S.trim()},br=function(S){return S},zo=function(S,E){return{result:S,comment:E}},_=e.peg$currPos|0,Gt=[{line:1,column:1}],et=_,G=e.peg$maxFailExpected||[],D=e.peg$silentFails|0,_e;if(e.startRule){if(!(e.startRule in i))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');s=i[e.startRule]}function q(S,E){return{type:"literal",text:S,ignoreCase:E}}function ve(S,E,C){return{type:"class",parts:S,inverted:E,ignoreCase:C}}function tt(){return{type:"end"}}function Ke(S){return{type:"other",description:S}}function Fu(S){var E=Gt[S],C;if(E)return E;if(S>=Gt.length)C=Gt.length-1;else for(C=S;!Gt[--C];);for(E=Gt[C],E={line:E.line,column:E.column};C<S;)t.charCodeAt(C)===10?(E.line++,E.column=1):E.column++,C++;return Gt[S]=E,E}function Bu(S,E,C){var b=Fu(S),A=Fu(E),X={source:r,start:{offset:S,line:b.line,column:b.column},end:{offset:E,line:A.line,column:A.column}};return X}function j(S){_<et||(_>et&&(et=_,G=[]),G.push(S))}function Lp(S,E,C){return new Or(Or.buildMessage(S,E),S,E,C)}function Uu(){var S,E,C;return S=_,E=Rp(),C=jp(),S=Ro(E,C),S}function Rp(){var S,E,C;for(S=_,E=[],C=Hu();C!==n;)E.push(C),C=Hu();return C=Fe(),S=Mr(E),S}function Hu(){var S,E,C,b,A,X,On;return D++,S=_,Fe(),t.charCodeAt(_)===91?(E=o,_++):(E=n,D===0&&j(F)),E!==n?(Fe(),C=Ip(),C!==n?(Fe(),t.charCodeAt(_)===34?(b=l,_++):(b=n,D===0&&j(U)),b!==n?(A=Mp(),t.charCodeAt(_)===34?(X=l,_++):(X=n,D===0&&j(U)),X!==n?(Fe(),t.charCodeAt(_)===93?(On=a,_++):(On=n,D===0&&j(Z)),On!==n?S=Io(C,A):(_=S,S=n)):(_=S,S=n)):(_=S,S=n)):(_=S,S=n)):(_=S,S=n),D--,S===n&&D===0&&j(I),S}function Ip(){var S,E,C;if(D++,S=_,E=[],C=t.charAt(_),R.test(C)?_++:(C=n,D===0&&j(ut)),C!==n)for(;C!==n;)E.push(C),C=t.charAt(_),R.test(C)?_++:(C=n,D===0&&j(ut));else E=n;return E!==n?S=t.substring(S,_):S=E,D--,S===n&&(E=n,D===0&&j(ie)),S}function Mp(){var S,E,C;for(D++,S=_,E=[],C=t.charAt(_),Q.test(C)?_++:(C=n,D===0&&j(Dt));C!==n;)E.push(C),C=t.charAt(_),Q.test(C)?_++:(C=n,D===0&&j(Dt));return S=t.substring(S,_),D--,E=n,D===0&&j(ze),S}function jp(){var S,E,C;return S=_,E=Wu(),Fe(),C=Bp(),C===n&&(C=null),Fe(),S=Mo(E,C),S}function Wu(){var S,E,C,b;for(S=_,E=$o(),E===n&&(E=null),C=[],b=Vu();b!==n;)C.push(b),b=Vu();return S=jo(E,C),S}function Vu(){var S,E,C,b,A,X,On,Ai;if(S=_,Fe(),bp(),Fe(),E=Ap(),E!==n){for(C=zp(),C===n&&(C=null),b=[],A=qu();A!==n;)b.push(A),A=qu();for(A=Fe(),X=$o(),X===n&&(X=null),On=[],Ai=Ku();Ai!==n;)On.push(Ai),Ai=Ku();S=bo(E,C,b,X,On)}else _=S,S=n;return S}function bp(){var S,E,C,b,A,X;for(D++,S=_,E=[],C=t.charAt(_),z.test(C)?_++:(C=n,D===0&&j(H));C!==n;)E.push(C),C=t.charAt(_),z.test(C)?_++:(C=n,D===0&&j(H));if(t.charCodeAt(_)===46?(C=u,_++):(C=n,D===0&&j(wt)),C!==n){for(b=Fe(),A=[],X=t.charAt(_),fe.test(X)?_++:(X=n,D===0&&j(At));X!==n;)A.push(X),X=t.charAt(_),fe.test(X)?_++:(X=n,D===0&&j(At));E=[E,C,b,A],S=E}else _=S,S=n;return D--,S===n&&(E=n,D===0&&j($e)),S}function Ap(){var S,E,C,b,A,X;if(D++,S=_,E=_,t.substr(_,5)===f?(C=f,_+=5):(C=n,D===0&&j(Re)),C===n&&(t.substr(_,3)===h?(C=h,_+=3):(C=n,D===0&&j(qe)),C===n&&(t.substr(_,5)===c?(C=c,_+=5):(C=n,D===0&&j(Wn)),C===n&&(t.substr(_,3)===y?(C=y,_+=3):(C=n,D===0&&j(Co)),C===n))))if(C=_,b=t.charAt(_),R.test(b)?_++:(b=n,D===0&&j(ut)),b!==n){if(A=[],X=t.charAt(_),te.test(X)?_++:(X=n,D===0&&j(Vn)),X!==n)for(;X!==n;)A.push(X),X=t.charAt(_),te.test(X)?_++:(X=n,D===0&&j(Vn));else A=n;A!==n?(b=[b,A],C=b):(_=C,C=n)}else _=C,C=n;return C!==n?(b=t.charAt(_),he.test(b)?_++:(b=n,D===0&&j(Yt)),b===n&&(b=null),C=[C,b],E=C):(_=E,E=n),E!==n?S=t.substring(S,_):S=E,D--,S===n&&(E=n,D===0&&j(Cn)),S}function zp(){var S,E,C;for(D++,S=_,E=[],C=t.charAt(_),Ze.test(C)?_++:(C=n,D===0&&j(qn));C!==n;)E.push(C),E.length>=2?C=n:(C=t.charAt(_),Ze.test(C)?_++:(C=n,D===0&&j(qn)));return E.length<1?(_=S,S=n):S=E,D--,S===n&&(E=n,D===0&&j(ko)),S}function qu(){var S,E,C,b,A;if(D++,S=_,Fe(),t.charCodeAt(_)===36?(E=g,_++):(E=n,D===0&&j(ji)),E!==n){if(C=_,b=[],A=t.charAt(_),z.test(A)?_++:(A=n,D===0&&j(H)),A!==n)for(;A!==n;)b.push(A),A=t.charAt(_),z.test(A)?_++:(A=n,D===0&&j(H));else b=n;b!==n?C=t.substring(C,_):C=b,C!==n?S=jr(C):(_=S,S=n)}else _=S,S=n;return D--,S===n&&D===0&&j(Oo),S}function $o(){var S;return S=$p(),S===n&&(S=Fp()),S}function $p(){var S,E,C,b,A;if(D++,S=_,t.charCodeAt(_)===123?(E=w,_++):(E=n,D===0&&j(Nr)),E!==n){for(C=_,b=[],A=t.charAt(_),Ve.test(A)?_++:(A=n,D===0&&j(Lr));A!==n;)b.push(A),A=t.charAt(_),Ve.test(A)?_++:(A=n,D===0&&j(Lr));C=t.substring(C,_),t.charCodeAt(_)===125?(b=O,_++):(b=n,D===0&&j(Rr)),b!==n?S=Ao(C):(_=S,S=n)}else _=S,S=n;return D--,S===n&&(E=n,D===0&&j(xo)),S}function Fp(){var S,E,C,b,A;if(D++,S=_,t.charCodeAt(_)===59?(E=p,_++):(E=n,D===0&&j(Ir)),E!==n){for(C=_,b=[],A=t.charAt(_),Le.test(A)?_++:(A=n,D===0&&j(kn));A!==n;)b.push(A),A=t.charAt(_),Le.test(A)?_++:(A=n,D===0&&j(kn));C=t.substring(C,_),S=Xn(C)}else _=S,S=n;return D--,S===n&&(E=n,D===0&&j(Pt)),S}function Ku(){var S,E,C,b;return D++,S=_,Fe(),t.charCodeAt(_)===40?(E=d,_++):(E=n,D===0&&j(Do)),E!==n?(C=Wu(),C!==n?(Fe(),t.charCodeAt(_)===41?(b=v,_++):(b=n,D===0&&j(Po)),b!==n?S=br(C):(_=S,S=n)):(_=S,S=n)):(_=S,S=n),D--,S===n&&D===0&&j(To),S}function Bp(){var S,E,C;return D++,S=_,t.substr(_,3)===k?(E=k,_+=3):(E=n,D===0&&j(Qn)),E===n&&(t.substr(_,3)===N?(E=N,_+=3):(E=n,D===0&&j(Yn)),E===n&&(t.substr(_,7)===L?(E=L,_+=7):(E=n,D===0&&j(Gn)),E===n&&(t.charCodeAt(_)===42?(E=T,_++):(E=n,D===0&&j(No))))),E!==n?(Fe(),C=$o(),C===n&&(C=null),S=zo(E,C)):(_=S,S=n),D--,S===n&&(E=n,D===0&&j(Kn)),S}function Fe(){var S,E;for(D++,S=[],E=t.charAt(_),Oe.test(E)?_++:(E=n,D===0&&j(bi));E!==n;)S.push(E),E=t.charAt(_),Oe.test(E)?_++:(E=n,D===0&&j(bi));return D--,E=n,D===0&&j(Lo),S}if(_e=s(),e.peg$library)return{peg$result:_e,peg$currPos:_,peg$FAILED:n,peg$maxFailExpected:G,peg$maxFailPos:et};if(_e!==n&&_===t.length)return _e;throw _e!==n&&_<t.length&&j(tt()),Lp(G,et<t.length?t.charAt(et):null,et<t.length?Bu(et,et+1):Bu(et,et))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const Cs=0xffffffffffffffffn;function ml(t,e){return(t<<e|t>>64n-e)&0xffffffffffffffffn}function uf(t,e){return t*e&Cs}function vv(t){return function(){let e=BigInt(t&Cs),n=BigInt(t>>64n&Cs);const r=uf(ml(uf(e,5n),7n),9n);return n^=e,e=(ml(e,24n)^n^n<<16n)&Cs,n=ml(n,37n),t=n<<64n|e,r}}const vo=vv(0xa187eb39cdcaed8f31c4b365b102e01en),yv=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>vo()))),wv=Array.from({length:8},()=>vo()),Sv=Array.from({length:16},()=>vo()),vl=vo(),je="w",nt="b",pe="p",Ta="n",ks="b",Zr="r",nn="q",ye="k",yl="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class rs{constructor(e,n){se(this,"color");se(this,"from");se(this,"to");se(this,"piece");se(this,"captured");se(this,"promotion");se(this,"flags");se(this,"san");se(this,"lan");se(this,"before");se(this,"after");const{color:r,piece:i,from:s,to:o,flags:l,captured:a,promotion:u}=n,f=Ee(s),h=Ee(o);this.color=r,this.piece=i,this.from=f,this.to=h,this.san=e._moveToSan(n,e._moves({legal:!0})),this.lan=f+h,this.before=e.fen(),e._makeMove(n),this.after=e.fen(),e._undoMove(),this.flags="";for(const c in B)B[c]&l&&(this.flags+=xn[c]);a&&(this.captured=a),u&&(this.promotion=u,this.lan+=u)}isCapture(){return this.flags.indexOf(xn.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(xn.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(xn.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(xn.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(xn.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(xn.BIG_PAWN)>-1}}const xe=-1,xn={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},B={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Da={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},_v={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},Ev={...Da,..._v},$={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},wl={b:[16,32,17,15],w:[-16,-32,-17,-15]},cf={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},Cv=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],kv=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],Ov={p:1,n:2,b:4,r:8,q:16,k:32},xv="pnbrqkPNBRQK",ff=[Ta,ks,Zr,nn],Tv=7,Dv=6,Pv=1,Nv=0,is={[ye]:B.KSIDE_CASTLE,[nn]:B.QSIDE_CASTLE},Jt={w:[{square:$.a1,flag:B.QSIDE_CASTLE},{square:$.h1,flag:B.KSIDE_CASTLE}],b:[{square:$.a8,flag:B.QSIDE_CASTLE},{square:$.h8,flag:B.KSIDE_CASTLE}]},Lv={b:Pv,w:Dv},Sl="--";function Mn(t){return t>>4}function Di(t){return t&15}function ap(t){return"0123456789".indexOf(t)!==-1}function Ee(t){const e=Di(t),n=Mn(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(n,n+1)}function qr(t){return t===je?nt:je}function Rv(t){const e=t.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(e[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const r=parseInt(e[4],10);if(isNaN(r)||r<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const i=e[0].split("/");if(i.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let o=0;o<i.length;o++){let l=0,a=!1;for(let u=0;u<i[o].length;u++)if(ap(i[o][u])){if(a)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};l+=parseInt(i[o][u],10),a=!0}else{if(!/^[prnbqkPRNBQK]$/.test(i[o][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};l+=1,a=!1}if(l!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const s=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:o,regex:l}of s){if(!l.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${o} king`};if((e[0].match(l)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${o} kings`}}return Array.from(i[0]+i[7]).some(o=>o.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function Iv(t,e){const n=t.from,r=t.to,i=t.piece;let s=0,o=0,l=0;for(let a=0,u=e.length;a<u;a++){const f=e[a].from,h=e[a].to,c=e[a].piece;i===c&&n!==f&&r===h&&(s++,Mn(n)===Mn(f)&&o++,Di(n)===Di(f)&&l++)}return s>0?o>0&&l>0?Ee(n):l>0?Ee(n).charAt(1):Ee(n).charAt(0):""}function Zt(t,e,n,r,i,s=void 0,o=B.NORMAL){const l=Mn(r);if(i===pe&&(l===Tv||l===Nv))for(let a=0;a<ff.length;a++){const u=ff[a];t.push({color:e,from:n,to:r,piece:i,captured:s,promotion:u,flags:o|B.PROMOTION})}else t.push({color:e,from:n,to:r,piece:i,captured:s,flags:o})}function df(t){let e=t.charAt(0);return e>="a"&&e<="h"?t.match(/[a-h]\d.*[a-h]\d/)?void 0:pe:(e=e.toLowerCase(),e==="o"?ye:e)}function _l(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class hf{constructor(e=yl,{skipValidation:n=!1}={}){se(this,"_board",new Array(128));se(this,"_turn",je);se(this,"_header",{});se(this,"_kings",{w:xe,b:xe});se(this,"_epSquare",-1);se(this,"_halfMoves",0);se(this,"_moveNumber",0);se(this,"_history",[]);se(this,"_comments",{});se(this,"_castling",{w:0,b:0});se(this,"_hash",0n);se(this,"_positionCount",new Map);this.load(e,{skipValidation:n})}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:xe,b:xe},this._turn=je,this._castling={w:0,b:0},this._epSquare=xe,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{...Ev},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(e,{skipValidation:n=!1,preserveHeaders:r=!1}={}){let i=e.split(/\s+/);if(i.length>=2&&i.length<6){const l=["-","-","0","1"];e=i.concat(l.slice(-(6-i.length))).join(" ")}if(i=e.split(/\s+/),!n){const{ok:l,error:a}=Rv(e);if(!l)throw new Error(a)}const s=i[0];let o=0;this.clear({preserveHeaders:r});for(let l=0;l<s.length;l++){const a=s.charAt(l);if(a==="/")o+=8;else if(ap(a))o+=parseInt(a,10);else{const u=a<"a"?je:nt;this._put({type:a.toLowerCase(),color:u},Ee(o)),o++}}this._turn=i[1],i[2].indexOf("K")>-1&&(this._castling.w|=B.KSIDE_CASTLE),i[2].indexOf("Q")>-1&&(this._castling.w|=B.QSIDE_CASTLE),i[2].indexOf("k")>-1&&(this._castling.b|=B.KSIDE_CASTLE),i[2].indexOf("q")>-1&&(this._castling.b|=B.QSIDE_CASTLE),this._epSquare=i[3]==="-"?xe:$[i[3]],this._halfMoves=parseInt(i[4],10),this._moveNumber=parseInt(i[5],10),this._hash=this._computeHash(),this._updateSetup(e),this._incPositionCount()}fen({forceEnpassantSquare:e=!1}={}){var o,l;let n=0,r="";for(let a=$.a8;a<=$.h1;a++){if(this._board[a]){n>0&&(r+=n,n=0);const{color:u,type:f}=this._board[a];r+=u===je?f.toUpperCase():f.toLowerCase()}else n++;a+1&136&&(n>0&&(r+=n),a!==$.h1&&(r+="/"),n=0,a+=8)}let i="";this._castling[je]&B.KSIDE_CASTLE&&(i+="K"),this._castling[je]&B.QSIDE_CASTLE&&(i+="Q"),this._castling[nt]&B.KSIDE_CASTLE&&(i+="k"),this._castling[nt]&B.QSIDE_CASTLE&&(i+="q"),i=i||"-";let s="-";if(this._epSquare!==xe)if(e)s=Ee(this._epSquare);else{const a=this._epSquare+(this._turn===je?16:-16),u=[a+1,a-1];for(const f of u){if(f&136)continue;const h=this._turn;if(((o=this._board[f])==null?void 0:o.color)===h&&((l=this._board[f])==null?void 0:l.type)===pe){this._makeMove({color:h,from:f,to:this._epSquare,piece:pe,captured:pe,flags:B.EP_CAPTURE});const c=!this._isKingAttacked(h);if(this._undoMove(),c){s=Ee(this._epSquare);break}}}}return[r,this._turn,i,s,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(e){if(!this._board[e])return 0n;const{color:n,type:r}=this._board[e],i={w:0,b:1}[n],s={p:0,n:1,b:2,r:3,q:4,k:5}[r];return yv[i][s][e]}_epKey(){return this._epSquare===xe?0n:wv[this._epSquare&7]}_castlingKey(){const e=this._castling.w>>5|this._castling.b>>3;return Sv[e]}_computeHash(){let e=0n;for(let n=$.a8;n<=$.h1;n++){if(n&136){n+=7;continue}this._board[n]&&(e^=this._pieceKey(n))}return e^=this._epKey(),e^=this._castlingKey(),this._turn==="b"&&(e^=vl),e}_updateSetup(e){this._history.length>0||(e!==yl?(this._header.SetUp="1",this._header.FEN=e):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(yl)}get(e){return this._board[$[e]]}findPiece(e){var r;const n=[];for(let i=$.a8;i<=$.h1;i++){if(i&136){i+=7;continue}!this._board[i]||((r=this._board[i])==null?void 0:r.color)!==e.color||this._board[i].color===e.color&&this._board[i].type===e.type&&n.push(Ee(i))}return n}put({type:e,color:n},r){return this._put({type:e,color:n},r)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(e,n){this._hash^=this._pieceKey(e),this._board[e]=n,this._hash^=this._pieceKey(e)}_put({type:e,color:n},r){if(xv.indexOf(e.toLowerCase())===-1||!(r in $))return!1;const i=$[r];if(e==ye&&!(this._kings[n]==xe||this._kings[n]==i))return!1;const s=this._board[i];return s&&s.type===ye&&(this._kings[s.color]=xe),this._set(i,{type:e,color:n}),e===ye&&(this._kings[n]=i),!0}_clear(e){this._hash^=this._pieceKey(e),delete this._board[e]}remove(e){const n=this.get(e);return this._clear($[e]),n&&n.type===ye&&(this._kings[n.color]=xe),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),n}_updateCastlingRights(){var r,i,s,o,l,a,u,f,h,c,y,g;this._hash^=this._castlingKey();const e=((r=this._board[$.e1])==null?void 0:r.type)===ye&&((i=this._board[$.e1])==null?void 0:i.color)===je,n=((s=this._board[$.e8])==null?void 0:s.type)===ye&&((o=this._board[$.e8])==null?void 0:o.color)===nt;(!e||((l=this._board[$.a1])==null?void 0:l.type)!==Zr||((a=this._board[$.a1])==null?void 0:a.color)!==je)&&(this._castling.w&=-65),(!e||((u=this._board[$.h1])==null?void 0:u.type)!==Zr||((f=this._board[$.h1])==null?void 0:f.color)!==je)&&(this._castling.w&=-33),(!n||((h=this._board[$.a8])==null?void 0:h.type)!==Zr||((c=this._board[$.a8])==null?void 0:c.color)!==nt)&&(this._castling.b&=-65),(!n||((y=this._board[$.h8])==null?void 0:y.type)!==Zr||((g=this._board[$.h8])==null?void 0:g.color)!==nt)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var s,o;if(this._epSquare===xe)return;const e=this._epSquare+(this._turn===je?-16:16),n=this._epSquare+(this._turn===je?16:-16),r=[n+1,n-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||((s=this._board[n])==null?void 0:s.color)!==qr(this._turn)||((o=this._board[n])==null?void 0:o.type)!==pe){this._hash^=this._epKey(),this._epSquare=xe;return}const i=l=>{var a,u;return!(l&136)&&((a=this._board[l])==null?void 0:a.color)===this._turn&&((u=this._board[l])==null?void 0:u.type)===pe};r.some(i)||(this._hash^=this._epKey(),this._epSquare=xe)}_attacked(e,n,r){const i=[];for(let s=$.a8;s<=$.h1;s++){if(s&136){s+=7;continue}if(this._board[s]===void 0||this._board[s].color!==e)continue;const o=this._board[s],l=s-n;if(l===0)continue;const a=l+119;if(Cv[a]&Ov[o.type]){if(o.type===pe){if(l>0&&o.color===je||l<=0&&o.color===nt)if(r)i.push(Ee(s));else return!0;continue}if(o.type==="n"||o.type==="k")if(r){i.push(Ee(s));continue}else return!0;const u=kv[a];let f=s+u,h=!1;for(;f!==n;){if(this._board[f]!=null){h=!0;break}f+=u}if(!h)if(r){i.push(Ee(s));continue}else return!0}}return r?i:!1}attackers(e,n){return n?this._attacked(n,$[e],!0):this._attacked(this._turn,$[e],!0)}_isKingAttacked(e){const n=this._kings[e];return n===-1?!1:this._attacked(qr(e),n)}hash(){return this._hash.toString(16)}isAttacked(e,n){return this._attacked(n,$[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},n=[];let r=0,i=0;for(let s=$.a8;s<=$.h1;s++){if(i=(i+1)%2,s&136){s+=7;continue}const o=this._board[s];o&&(e[o.type]=o.type in e?e[o.type]+1:1,o.type===ks&&n.push(i),r++)}if(r===2)return!0;if(r===3&&(e[ks]===1||e[Ta]===1))return!0;if(r===e[ks]+2){let s=0;const o=n.length;for(let l=0;l<o;l++)s+=n[l];if(s===0||s===o)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:e=!1,square:n=void 0,piece:r=void 0}={}){const i=this._moves({square:n,piece:r});return e?i.map(s=>new rs(this,s)):i.map(s=>this._moveToSan(s,i))}_moves({legal:e=!0,piece:n=void 0,square:r=void 0}={}){var y;const i=r?r.toLowerCase():void 0,s=n==null?void 0:n.toLowerCase(),o=[],l=this._turn,a=qr(l);let u=$.a8,f=$.h1,h=!1;if(i)if(i in $)u=f=$[i],h=!0;else return[];for(let g=u;g<=f;g++){if(g&136){g+=7;continue}if(!this._board[g]||this._board[g].color===a)continue;const{type:w}=this._board[g];let O;if(w===pe){if(s&&s!==w)continue;O=g+wl[l][0],this._board[O]||(Zt(o,l,g,O,pe),O=g+wl[l][1],Lv[l]===Mn(g)&&!this._board[O]&&Zt(o,l,g,O,pe,void 0,B.BIG_PAWN));for(let p=2;p<4;p++)O=g+wl[l][p],!(O&136)&&(((y=this._board[O])==null?void 0:y.color)===a?Zt(o,l,g,O,pe,this._board[O].type,B.CAPTURE):O===this._epSquare&&Zt(o,l,g,O,pe,pe,B.EP_CAPTURE))}else{if(s&&s!==w)continue;for(let p=0,d=cf[w].length;p<d;p++){const v=cf[w][p];for(O=g;O+=v,!(O&136);){if(!this._board[O])Zt(o,l,g,O,w);else{if(this._board[O].color===l)break;Zt(o,l,g,O,w,this._board[O].type,B.CAPTURE);break}if(w===Ta||w===ye)break}}}}if((s===void 0||s===ye)&&(!h||f===this._kings[l])){if(this._castling[l]&B.KSIDE_CASTLE){const g=this._kings[l],w=g+2;!this._board[g+1]&&!this._board[w]&&!this._attacked(a,this._kings[l])&&!this._attacked(a,g+1)&&!this._attacked(a,w)&&Zt(o,l,this._kings[l],w,ye,void 0,B.KSIDE_CASTLE)}if(this._castling[l]&B.QSIDE_CASTLE){const g=this._kings[l],w=g-2;!this._board[g-1]&&!this._board[g-2]&&!this._board[g-3]&&!this._attacked(a,this._kings[l])&&!this._attacked(a,g-1)&&!this._attacked(a,w)&&Zt(o,l,this._kings[l],w,ye,void 0,B.QSIDE_CASTLE)}}if(!e||this._kings[l]===-1)return o;const c=[];for(let g=0,w=o.length;g<w;g++)this._makeMove(o[g]),this._isKingAttacked(l)||c.push(o[g]),this._undoMove();return c}move(e,{strict:n=!1}={}){let r=null;if(typeof e=="string")r=this._moveFromSan(e,n);else if(e===null)r=this._moveFromSan(Sl,n);else if(typeof e=="object"){const s=this._moves();for(let o=0,l=s.length;o<l;o++)if(e.from===Ee(s[o].from)&&e.to===Ee(s[o].to)&&(!("promotion"in s[o])||e.promotion===s[o].promotion)){r=s[o];break}}if(!r)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);if(this.isCheck()&&r.flags&B.NULL_MOVE)throw new Error("Null move not allowed when in check");const i=new rs(this,r);return this._makeMove(r),this._incPositionCount(),i}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(e,n){this._hash^=this._pieceKey(e),this._board[n]=this._board[e],delete this._board[e],this._hash^=this._pieceKey(n)}_makeMove(e){var i,s,o,l;const n=this._turn,r=qr(n);if(this._push(e),e.flags&B.NULL_MOVE){n===nt&&this._moveNumber++,this._halfMoves++,this._turn=r,this._epSquare=xe;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),e.captured&&(this._hash^=this._pieceKey(e.to)),this._movePiece(e.from,e.to),e.flags&B.EP_CAPTURE&&(this._turn===nt?this._clear(e.to-16):this._clear(e.to+16)),e.promotion&&(this._clear(e.to),this._set(e.to,{type:e.promotion,color:n})),this._board[e.to].type===ye){if(this._kings[n]=e.to,e.flags&B.KSIDE_CASTLE){const a=e.to-1,u=e.to+1;this._movePiece(u,a)}else if(e.flags&B.QSIDE_CASTLE){const a=e.to+1,u=e.to-2;this._movePiece(u,a)}this._castling[n]=0}if(this._castling[n]){for(let a=0,u=Jt[n].length;a<u;a++)if(e.from===Jt[n][a].square&&this._castling[n]&Jt[n][a].flag){this._castling[n]^=Jt[n][a].flag;break}}if(this._castling[r]){for(let a=0,u=Jt[r].length;a<u;a++)if(e.to===Jt[r][a].square&&this._castling[r]&Jt[r][a].flag){this._castling[r]^=Jt[r][a].flag;break}}if(this._hash^=this._castlingKey(),e.flags&B.BIG_PAWN){let a;n===nt?a=e.to-16:a=e.to+16,!(e.to-1&136)&&((i=this._board[e.to-1])==null?void 0:i.type)===pe&&((s=this._board[e.to-1])==null?void 0:s.color)===r||!(e.to+1&136)&&((o=this._board[e.to+1])==null?void 0:o.type)===pe&&((l=this._board[e.to+1])==null?void 0:l.color)===r?(this._epSquare=a,this._hash^=this._epKey()):this._epSquare=xe}else this._epSquare=xe;e.piece===pe?this._halfMoves=0:e.flags&(B.CAPTURE|B.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,n===nt&&this._moveNumber++,this._turn=r,this._hash^=vl}undo(){const e=this._hash,n=this._undoMove();if(n){const r=new rs(this,n);return this._decPositionCount(e),r}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const n=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=vl;const r=this._turn,i=qr(r);if(n.flags&B.NULL_MOVE)return n;if(this._movePiece(n.to,n.from),n.piece&&(this._clear(n.from),this._set(n.from,{type:n.piece,color:r})),n.captured)if(n.flags&B.EP_CAPTURE){let s;r===nt?s=n.to-16:s=n.to+16,this._set(s,{type:pe,color:i})}else this._set(n.to,{type:n.captured,color:i});if(n.flags&(B.KSIDE_CASTLE|B.QSIDE_CASTLE)){let s,o;n.flags&B.KSIDE_CASTLE?(s=n.to+1,o=n.to-1):(s=n.to-2,o=n.to+1),this._movePiece(o,s)}return n}pgn({newline:e=`
`,maxWidth:n=0}={}){const r=[];let i=!1;for(const c in this._header)this._header[c]&&r.push(`[${c} "${this._header[c]}"]`+e),i=!0;i&&this._history.length&&r.push(e);const s=c=>{const y=this._comments[this.fen()];if(typeof y<"u"){const g=c.length>0?" ":"";c=`${c}${g}{${y}}`}return c},o=[];for(;this._history.length>0;)o.push(this._undoMove());const l=[];let a="";for(o.length===0&&l.push(s(""));o.length>0;){a=s(a);const c=o.pop();if(!c)break;if(!this._history.length&&c.color==="b"){const y=`${this._moveNumber}. ...`;a=a?`${a} ${y}`:y}else c.color==="w"&&(a.length&&l.push(a),a=this._moveNumber+".");a=a+" "+this._moveToSan(c,this._moves({legal:!0})),this._makeMove(c)}if(a.length&&l.push(s(a)),l.push(this._header.Result||"*"),n===0)return r.join("")+l.join(" ");const u=function(){return r.length>0&&r[r.length-1]===" "?(r.pop(),!0):!1},f=function(c,y){for(const g of y.split(" "))if(g){if(c+g.length>n){for(;u();)c--;r.push(e),c=0}r.push(g),c+=g.length,r.push(" "),c++}return u()&&c--,c};let h=0;for(let c=0;c<l.length;c++){if(h+l[c].length>n&&l[c].includes("{")){h=f(h,l[c]);continue}h+l[c].length>n&&c!==0?(r[r.length-1]===" "&&r.pop(),r.push(e),h=0):c!==0&&(r.push(" "),h++),r.push(l[c]),h+=l[c].length}return r.join("")}header(...e){for(let n=0;n<e.length;n+=2)typeof e[n]=="string"&&typeof e[n+1]=="string"&&(this._header[e[n]]=e[n+1]);return this._header}setHeader(e,n){return this._header[e]=n??Da[e]??null,this.getHeaders()}removeHeader(e){return e in this._header?(this._header[e]=Da[e]||null,!0):!1}getHeaders(){const e={};for(const[n,r]of Object.entries(this._header))r!==null&&(e[n]=r);return e}loadPgn(e,{strict:n=!1,newlineChar:r=`\r?
`}={}){r!==`\r?
`&&(e=e.replace(new RegExp(r,"g"),`
`));const i=mv(e);this.reset();const s=i.headers;let o="";for(const u in s)u.toLowerCase()==="fen"&&(o=s[u]),this.header(u,s[u]);if(!n)o&&this.load(o,{preserveHeaders:!0});else if(s.SetUp==="1"){if(!("FEN"in s))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(s.FEN,{preserveHeaders:!0})}let l=i.root;for(;l;){if(l.move){const u=this._moveFromSan(l.move,n);if(u==null)throw new Error(`Invalid move in PGN: ${l.move}`);this._makeMove(u),this._incPositionCount()}l.comment!==void 0&&(this._comments[this.fen()]=l.comment),l=l.variations[0]}const a=i.result;a&&Object.keys(this._header).length&&this._header.Result!==a&&this.setHeader("Result",a)}_moveToSan(e,n){let r="";if(e.flags&B.KSIDE_CASTLE)r="O-O";else if(e.flags&B.QSIDE_CASTLE)r="O-O-O";else{if(e.flags&B.NULL_MOVE)return Sl;if(e.piece!==pe){const i=Iv(e,n);r+=e.piece.toUpperCase()+i}e.flags&(B.CAPTURE|B.EP_CAPTURE)&&(e.piece===pe&&(r+=Ee(e.from)[0]),r+="x"),r+=Ee(e.to),e.promotion&&(r+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?r+="#":r+="+"),this._undoMove(),r}_moveFromSan(e,n=!1){let r=_l(e);if(n||(r==="0-0"?r="O-O":r==="0-0-0"&&(r="O-O-O")),r==Sl)return{color:this._turn,from:0,to:0,piece:"k",flags:B.NULL_MOVE};let i=df(r),s=this._moves({legal:!0,piece:i});for(let c=0,y=s.length;c<y;c++)if(r===_l(this._moveToSan(s[c],s)))return s[c];if(n)return null;let o,l,a,u,f,h=!1;if(l=r.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),l?(o=l[1],a=l[2],u=l[3],f=l[4],a.length==1&&(h=!0)):(l=r.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),l&&(o=l[1],a=l[2],u=l[3],f=l[4],a.length==1&&(h=!0))),i=df(r),s=this._moves({legal:!0,piece:o||i}),!u)return null;for(let c=0,y=s.length;c<y;c++)if(a){if((!o||o.toLowerCase()==s[c].piece)&&$[a]==s[c].from&&$[u]==s[c].to&&(!f||f.toLowerCase()==s[c].promotion))return s[c];if(h){const g=Ee(s[c].from);if((!o||o.toLowerCase()==s[c].piece)&&$[u]==s[c].to&&(a==g[0]||a==g[1])&&(!f||f.toLowerCase()==s[c].promotion))return s[c]}}else if(r===_l(this._moveToSan(s[c],s)).replace("x",""))return s[c];return null}ascii(){let e=`   +------------------------+
`;for(let n=$.a8;n<=$.h1;n++){if(Di(n)===0&&(e+=" "+"87654321"[Mn(n)]+" |"),this._board[n]){const r=this._board[n].type,s=this._board[n].color===je?r.toUpperCase():r.toLowerCase();e+=" "+s+" "}else e+=" . ";n+1&136&&(e+=`|
`,n+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const n=this._moves({legal:!1});let r=0;const i=this._turn;for(let s=0,o=n.length;s<o;s++)this._makeMove(n[s]),this._isKingAttacked(i)||(e-1>0?r+=this.perft(e-1):r++),this._undoMove();return r}setTurn(e){return this._turn==e?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const e=[];let n=[];for(let r=$.a8;r<=$.h1;r++)this._board[r]==null?n.push(null):n.push({square:Ee(r),type:this._board[r].type,color:this._board[r].color}),r+1&136&&(e.push(n),n=[],r+=8);return e}squareColor(e){if(e in $){const n=$[e];return(Mn(n)+Di(n))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const n=[],r=[];for(;this._history.length>0;)n.push(this._undoMove());for(;;){const i=n.pop();if(!i)break;e?r.push(new rs(this,i)):r.push(this._moveToSan(i,this._moves())),this._makeMove(i)}return r}_getPositionCount(e){return this._positionCount.get(e)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(e){const n=this._positionCount.get(e)??0;n===1?this._positionCount.delete(e):this._positionCount.set(e,n-1)}_pruneComments(){const e=[],n={},r=i=>{i in this._comments&&(n[i]=this._comments[i])};for(;this._history.length>0;)e.push(this._undoMove());for(r(this.fen());;){const i=e.pop();if(!i)break;this._makeMove(i),r(this.fen())}this._comments=n}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const n=this._comments[e];return delete this._comments[e],{fen:e,comment:n}})}setCastlingRights(e,n){for(const i of[ye,nn])n[i]!==void 0&&(n[i]?this._castling[e]|=is[i]:this._castling[e]&=~is[i]);this._updateCastlingRights();const r=this.getCastlingRights(e);return(n[ye]===void 0||n[ye]===r[ye])&&(n[nn]===void 0||n[nn]===r[nn])}getCastlingRights(e){return{[ye]:(this._castling[e]&is[ye])!==0,[nn]:(this._castling[e]&is[nn])!==0}}moveNumber(){return this._moveNumber}}function Mv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Pi="abcdefgh".split(""),Os={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},jv={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},bv={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},Av=[7,6,5,4,3,2,1,0],zv=[0,1,2,3,4,5,6,7],pf={wP:m.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:m.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:m.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:m.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[m.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),m.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),m.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),m.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),m.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),m.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),m.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:m.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:m.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[m.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),m.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),m.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),m.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:m.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:m.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[m.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[m.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),m.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),m.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),m.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:m.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:m.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[m.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),m.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),m.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),m.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),m.jsx("circle",{cx:"6",cy:"12",r:"2"}),m.jsx("circle",{cx:"14",cy:"9",r:"2"}),m.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),m.jsx("circle",{cx:"31",cy:"9",r:"2"}),m.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:m.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:m.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[m.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),m.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),m.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),m.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),m.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),m.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),m.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:m.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:m.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:m.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:m.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[m.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),m.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),m.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),m.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),m.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),m.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),m.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),m.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),m.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),m.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),m.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:m.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:m.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[m.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),m.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),m.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),m.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),m.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:m.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:m.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[m.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[m.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),m.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),m.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),m.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:m.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:m.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[m.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),m.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),m.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),m.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),m.jsx("circle",{cx:"6",cy:"12",r:"2"}),m.jsx("circle",{cx:"14",cy:"9",r:"2"}),m.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),m.jsx("circle",{cx:"31",cy:"9",r:"2"}),m.jsx("circle",{cx:"39",cy:"12",r:"2"}),m.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),m.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[m.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),m.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),m.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),m.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:m.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:m.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[m.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),m.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),m.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),m.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),m.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),m.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Pa(t,e,n){const r=e/8,i=t==="white"?jv:bv,s=t==="white"?Av:zv,o=i[n[0]]*r+r/2,l=s[parseInt(n[1],10)-1]*r+r/2;return{x:o,y:l}}function gf(t){let e=!1;return Object.keys(Os).forEach(n=>{t[n]!==Os[n]&&(e=!0)}),Object.keys(t).forEach(n=>{Os[n]!==t[n]&&(e=!0)}),e}function $v(t,e){const n={removed:{},added:{}};return Object.keys(t).forEach(r=>{e[r]!==t[r]&&(n.removed[r]=t[r])}),Object.keys(e).forEach(r=>{t[r]!==e[r]&&(n.added[r]=e[r])}),n}function mf(t){return t==="start"?Os:typeof t=="string"?Fv(t):t}function Fv(t){if(!Bv(t))return{};t=t.replace(/ .+$/,"");const e=t.split("/"),n={};let r=8;for(let i=0;i<8;i++){const s=e[i].split("");let o=0;for(let l=0;l<s.length;l++)if(s[l].search(/[1-8]/)!==-1){const a=parseInt(s[l],10);o=o+a}else{const a=Pi[o]+r;n[a]=Hv(s[l]),o=o+1}r=r-1}return n}function Bv(t){t=t.replace(/ .+$/,""),t=Uv(t);const e=t.split("/");if(e.length!==8)return!1;for(let n=0;n<8;n++)if(e[n].length!==8||e[n].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function Uv(t){return t.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function Hv(t){return t.toLowerCase()===t?"b"+t.toUpperCase():"w"+t.toUpperCase()}const Wv=(t,e=!0,n,r)=>{const[i,s]=x.useState([]),[o,l]=x.useState([]),[a,u]=x.useState();x.useEffect(()=>{Array.isArray(t)&&(f(),s(t==null?void 0:t.filter(g=>g[0]!==g[1])))},[t]),x.useEffect(()=>{n==null||n(o)},[o]);function f(){l([]),u(void 0)}const h=(g,w)=>{e&&u([g,w,r])},c=[...o,...i];return{arrows:c,newArrow:a,clearArrows:f,drawNewArrow:h,setArrows:l,onArrowDrawEnd:(g,w)=>{if(g===w||!e)return;let O;const p=[g,w,r];c.every(([v,k])=>!(v===g&&k===w))?O=[...o,p]:O=o.filter(([v,k])=>!(v===g&&k===w)),u(void 0),l(O)}}},up=x.createContext({}),Qt=()=>x.useContext(up),Vv=x.forwardRef(({allowDragOutsideBoard:t=!0,animationDuration:e=300,areArrowsAllowed:n=!0,arePiecesDraggable:r=!0,arePremovesAllowed:i=!1,autoPromoteToQueen:s=!1,boardOrientation:o="white",boardWidth:l,children:a,clearPremovesOnRightClick:u=!0,customArrows:f,customArrowColor:h="rgb(255,170,0)",customBoardStyle:c,customNotationStyle:y,customDarkSquareStyle:g={backgroundColor:"#B58863"},customDropSquareStyle:w={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:O={backgroundColor:"#F0D9B5"},customPieces:p,customPremoveDarkSquareStyle:d={backgroundColor:"#A42323"},customPremoveLightSquareStyle:v={backgroundColor:"#BD2828"},customSquare:k="div",customSquareStyles:N,dropOffBoardAction:L="snapback",id:T=0,isDraggablePiece:R=()=>!0,getPositionObject:Q=()=>{},onArrowsChange:z=()=>{},onDragOverSquare:fe=()=>{},onMouseOutSquare:te=()=>{},onMouseOverSquare:he=()=>{},onPieceClick:Ze=()=>{},onPieceDragBegin:Ve=()=>{},onPieceDragEnd:Le=()=>{},onPieceDrop:Oe=()=>!0,onPieceDropOffBoard:I=()=>{},onPromotionCheck:F=(Re,qe,Wn)=>(Wn==="wP"&&Re[1]==="7"&&qe[1]==="8"||Wn==="bP"&&Re[1]==="2"&&qe[1]==="1")&&Math.abs(Re.charCodeAt(0)-qe.charCodeAt(0))<=1,onPromotionPieceSelect:U=()=>!0,onSparePieceDrop:Z=()=>!0,onSquareClick:ie=()=>{},onSquareRightClick:ut=()=>{},position:ze="start",promotionDialogVariant:Dt="default",promotionToSquare:$e=null,showBoardNotation:H=!0,showPromotionDialog:wt=!1,snapToCursor:At=!0},Cn)=>{const[Re,qe]=x.useState(mf(ze)),[Wn,Co]=x.useState({removed:{},added:{}}),[Vn,Yt]=x.useState(void 0),[ko,qn]=x.useState(wt&&!s),[Oo,ji]=x.useState(null),[xo,Nr]=x.useState($e),[Lr,Rr]=x.useState([]),Pt=x.useRef(Lr),[Ir,kn]=x.useState(),[To,Do]=x.useState(Object.assign(Object.assign({},pf),p)),[Po,Kn]=x.useState(!1),Qn=x.useRef(),[Yn,Gn]=x.useState(!1),[No,Lo]=x.useState(null);x.useImperativeHandle(Cn,()=>({clearPremoves(G=!0){Xn(G)}})),x.useEffect(()=>{Do(Object.assign(Object.assign({},pf),p))},[p]),x.useEffect(()=>{qn(wt),Nr($e)},[$e,wt]),x.useEffect(()=>{var G,D,_e;br();const q=mf(ze),ve=$v(Re,q),tt=((G=Object.keys(ve.added))===null||G===void 0?void 0:G.length)<=2?(_e=(D=Object.entries(ve.added))===null||D===void 0?void 0:D[0])===null||_e===void 0?void 0:_e[1][0]:void 0;if(Yn)qe(q),Gn(!1),i&&jr(tt),Qn.current&&clearTimeout(Qn.current);else if(Po)qe(q),Gn(!1),i&&jr(tt);else{gf(q)&&Vn!==void 0?Yt(tt):gf(q)?Yt(void 0):Yt("b"),Co(ve),Gn(!0);const Ke=setTimeout(()=>{qe(q),Gn(!1),i&&jr(tt)},e);Qn.current=Ke}return Kn(!1),Q(q),Mr(),()=>{clearTimeout(Qn.current)}},[ze]);const{arrows:bi,newArrow:Ro,clearArrows:Mr,drawNewArrow:Io,onArrowDrawEnd:Mo}=Wv(f,n,z,h);function jo(G,D,_e,q){if(G===D)return;if(Mr(),i&&Yn||i&&(Vn===_e[0]||Pt.current.filter(tt=>tt.piece[0]===_e[0]).length>0)){const tt=[...Pt.current];tt.push({sourceSq:G,targetSq:D,piece:_e}),Pt.current=tt,Rr([...tt]),br();return}if(!i&&Yn)return;const ve=Object.assign({},Re);Kn(!!q),Yt(_e[0]),Oe.length?Oe(G,D,_e)||(Xn(),Kn(!1)):(delete ve[G],ve[D]=_e,qe(ve)),br(),Q(ve)}function bo(G){const D=Object.assign({},Re);delete D[G],qe(D),Q(D)}function jr(G){if(Pt.current.length===0)return;const D=Pt.current[0];if(D.piece[0]!==void 0&&D.piece[0]!==G&&Oe.length)if(Yt(D.piece[0]),Kn(!0),Oe(D.sourceSq,D.targetSq,D.piece)){const q=[...Pt.current];q.shift(),Pt.current=q,Rr([...q])}else Xn()}function Ao(G,D){if(!Z(G,D))return;const q=Object.assign({},Re);q[D]=G,qe(q),Q(q)}function Xn(G=!0){G&&Yt(void 0),Pt.current=[],Rr([])}function br(){ji(null),Nr(null),qn(!1)}function zo(G){kn(G)}function _(G){if(Ir){if(Ir===G){kn(void 0),u&&Xn(!1),ut(G);return}}else kn(void 0)}function Gt(){kn(void 0)}const et={allowDragOutsideBoard:t,animationDuration:e,arePiecesDraggable:r,arePremovesAllowed:i,arrows:bi,autoPromoteToQueen:s,boardOrientation:o,boardWidth:l,chessPieces:To,clearArrows:Mr,clearCurrentRightClickDown:Gt,currentPosition:Re,currentRightClickDown:Ir,customArrowColor:h,customBoardStyle:c,customDarkSquareStyle:g,customDropSquareStyle:w,customLightSquareStyle:O,customNotationStyle:y,customPremoveDarkSquareStyle:d,customPremoveLightSquareStyle:v,customSquare:k,customSquareStyles:N,deletePieceFromSquare:bo,drawNewArrow:Io,dropOffBoardAction:L,handleSetPosition:jo,handleSparePieceDrop:Ao,id:T,isDraggablePiece:R,isWaitingForAnimation:Yn,lastPieceColour:Vn,lastSquareDraggedOver:No,newArrow:Ro,onArrowDrawEnd:Mo,onDragOverSquare:fe,onMouseOutSquare:te,onMouseOverSquare:he,onPieceClick:Ze,onPieceDragBegin:Ve,onPieceDragEnd:Le,onPieceDrop:Oe,onPieceDropOffBoard:I,onPromotionCheck:F,onPromotionPieceSelect:U,onRightClickDown:zo,onRightClickUp:_,onSparePieceDrop:Z,onSquareClick:ie,positionDifferences:Wn,premoves:Lr,promoteFromSquare:Oo,promoteToSquare:xo,promotionDialogVariant:Dt,setLastSquareDraggedOver:Lo,setPromoteFromSquare:ji,setPromoteToSquare:Nr,setShowPromoteDialog:qn,showBoardNotation:H,showPromoteDialog:ko,snapToCursor:At};return m.jsx(up.Provider,Object.assign({value:et},{children:a}))});function qv({row:t,col:e}){const{boardOrientation:n,boardWidth:r,customDarkSquareStyle:i,customLightSquareStyle:s,customNotationStyle:o}=Qt(),l=s.backgroundColor,a=i.backgroundColor,u=e===0,f=t===7,h=u&&f;function c(){return n==="white"?8-t:t+1}function y(){return n==="black"?Pi[7-e]:Pi[e]}function g(){return m.jsxs(m.Fragment,{children:[m.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:l}),yf(r,o))},{children:c()})),m.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:l}),vf(r,o))},{children:y()}))]})}function w(){return m.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:e%2!==0?a:l}),vf(r,o))},{children:y()}))}function O(){return m.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},n==="black"?{color:t%2===0?a:l}:{color:t%2===0?a:l}),yf(r,o))},{children:c()}))}return h?g():f?w():u?O():null}const vf=(t,e)=>Object.assign({alignSelf:"flex-end",paddingLeft:t/8-t/48,fontSize:t/48},e),yf=(t,e)=>Object.assign({alignSelf:"flex-start",paddingRight:t/8-t/48,fontSize:t/48},e),cp=x.createContext({dragDropManager:void 0});function ct(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var wf=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Sf=function(){return Math.random().toString(36).substring(7).split("").join(".")},_f={INIT:"@@redux/INIT"+Sf(),REPLACE:"@@redux/REPLACE"+Sf()};function Kv(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function fp(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ct(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ct(1));return n(fp)(t,e)}if(typeof t!="function")throw new Error(ct(2));var i=t,s=e,o=[],l=o,a=!1;function u(){l===o&&(l=o.slice())}function f(){if(a)throw new Error(ct(3));return s}function h(w){if(typeof w!="function")throw new Error(ct(4));if(a)throw new Error(ct(5));var O=!0;return u(),l.push(w),function(){if(O){if(a)throw new Error(ct(6));O=!1,u();var d=l.indexOf(w);l.splice(d,1),o=null}}}function c(w){if(!Kv(w))throw new Error(ct(7));if(typeof w.type>"u")throw new Error(ct(8));if(a)throw new Error(ct(9));try{a=!0,s=i(s,w)}finally{a=!1}for(var O=o=l,p=0;p<O.length;p++){var d=O[p];d()}return w}function y(w){if(typeof w!="function")throw new Error(ct(10));i=w,c({type:_f.REPLACE})}function g(){var w,O=h;return w={subscribe:function(d){if(typeof d!="object"||d===null)throw new Error(ct(11));function v(){d.next&&d.next(f())}v();var k=O(v);return{unsubscribe:k}}},w[wf]=function(){return this},w}return c({type:_f.INIT}),r={dispatch:c,subscribe:h,getState:f,replaceReducer:y},r[wf]=g,r}function W(t,e,...n){if(Qv()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;r=new Error(e.replace(/%s/g,function(){return n[i++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function Qv(){return typeof process<"u"&&!0}function Yv(t,e,n){return e.split(".").reduce((r,i)=>r&&r[i]?r[i]:n||null,t)}function Gv(t,e){return t.filter(n=>n!==e)}function dp(t){return typeof t=="object"}function Xv(t,e){const n=new Map,r=s=>{n.set(s,n.has(s)?n.get(s)+1:1)};t.forEach(r),e.forEach(r);const i=[];return n.forEach((s,o)=>{s===1&&i.push(o)}),i}function Jv(t,e){return t.filter(n=>e.indexOf(n)>-1)}const Mu="dnd-core/INIT_COORDS",yo="dnd-core/BEGIN_DRAG",ju="dnd-core/PUBLISH_DRAG_SOURCE",wo="dnd-core/HOVER",So="dnd-core/DROP",_o="dnd-core/END_DRAG";function Ef(t,e){return{type:Mu,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const Zv={type:Mu,payload:{clientOffset:null,sourceClientOffset:null}};function e1(t){return function(n=[],r={publishSource:!0}){const{publishSource:i=!0,clientOffset:s,getSourceClientOffset:o}=r,l=t.getMonitor(),a=t.getRegistry();t.dispatch(Ef(s)),t1(n,l,a);const u=i1(n,l);if(u==null){t.dispatch(Zv);return}let f=null;if(s){if(!o)throw new Error("getSourceClientOffset must be defined");n1(o),f=o(u)}t.dispatch(Ef(s,f));const c=a.getSource(u).beginDrag(l,u);if(c==null)return;r1(c),a.pinSource(u);const y=a.getSourceType(u);return{type:yo,payload:{itemType:y,item:c,sourceId:u,clientOffset:s||null,sourceClientOffset:f||null,isSourcePublic:!!i}}}}function t1(t,e,n){W(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(r){W(n.getSource(r),"Expected sourceIds to be registered.")})}function n1(t){W(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function r1(t){W(dp(t),"Item must be an object.")}function i1(t,e){let n=null;for(let r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}function s1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){s1(t,i,n[i])})}return t}function l1(t){return function(n={}){const r=t.getMonitor(),i=t.getRegistry();a1(r),f1(r).forEach((o,l)=>{const a=u1(o,l,i,r),u={type:So,payload:{dropResult:o1({},n,a)}};t.dispatch(u)})}}function a1(t){W(t.isDragging(),"Cannot call drop while not dragging."),W(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function u1(t,e,n,r){const i=n.getTarget(t);let s=i?i.drop(r,t):void 0;return c1(s),typeof s>"u"&&(s=e===0?{}:r.getDropResult()),s}function c1(t){W(typeof t>"u"||dp(t),"Drop result must either be an object or undefined.")}function f1(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function d1(t){return function(){const n=t.getMonitor(),r=t.getRegistry();h1(n);const i=n.getSourceId();return i!=null&&(r.getSource(i,!0).endDrag(n,i),r.unpinSource()),{type:_o}}}function h1(t){W(t.isDragging(),"Cannot call endDrag while not dragging.")}function Na(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function p1(t){return function(n,{clientOffset:r}={}){g1(n);const i=n.slice(0),s=t.getMonitor(),o=t.getRegistry(),l=s.getItemType();return v1(i,o,l),m1(i,s,o),y1(i,s,o),{type:wo,payload:{targetIds:i,clientOffset:r||null}}}}function g1(t){W(Array.isArray(t),"Expected targetIds to be an array.")}function m1(t,e,n){W(e.isDragging(),"Cannot call hover while not dragging."),W(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<t.length;r++){const i=t[r];W(t.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");const s=n.getTarget(i);W(s,"Expected targetIds to be registered.")}}function v1(t,e,n){for(let r=t.length-1;r>=0;r--){const i=t[r],s=e.getTargetType(i);Na(s,n)||t.splice(r,1)}}function y1(t,e,n){t.forEach(function(r){n.getTarget(r).hover(e,r)})}function w1(t){return function(){if(t.getMonitor().isDragging())return{type:ju}}}function S1(t){return{beginDrag:e1(t),publishDragSource:w1(t),hover:p1(t),drop:l1(t),endDrag:d1(t)}}class _1{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function r(s){return(...o)=>{const l=s.apply(e,o);typeof l<"u"&&n(l)}}const i=S1(this);return Object.keys(i).reduce((s,o)=>{const l=i[o];return s[o]=r(l),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function E1(t,e){return{x:t.x+e.x,y:t.y+e.y}}function hp(t,e){return{x:t.x-e.x,y:t.y-e.y}}function C1(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=t;return!e||!n||!r?null:hp(E1(e,r),n)}function k1(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:hp(e,n)}const ui=[],bu=[];ui.__IS_NONE__=!0;bu.__IS_ALL__=!0;function O1(t,e){return t===ui?!1:t===bu||typeof e>"u"?!0:Jv(e,t).length>0}class x1{subscribeToStateChange(e,n={}){const{handlerIds:r}=n;W(typeof e=="function","listener must be a function."),W(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const s=()=>{const o=this.store.getState(),l=o.stateId;try{l===i||l===i+1&&!O1(o.dirtyHandlerIds,r)||e()}finally{i=l}};return this.store.subscribe(s)}subscribeToOffsetChange(e){W(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const i=this.store.getState().dragOffset;i!==n&&(n=i,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return W(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(W(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),i=this.getItemType();return Na(r,i)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(W(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),i=this.getItemType();return r!==i?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),s=this.getItemType();if(s&&!Na(i,s))return!1;const o=this.getTargetIds();if(!o.length)return!1;const l=o.indexOf(e);return r?l===o.length-1:l>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return C1(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return k1(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const Cf=typeof global<"u"?global:self,pp=Cf.MutationObserver||Cf.WebKitMutationObserver;function gp(t){return function(){const n=setTimeout(i,0),r=setInterval(i,50);function i(){clearTimeout(n),clearInterval(r),t()}}}function T1(t){let e=1;const n=new pp(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const D1=typeof pp=="function"?T1:gp;class P1{enqueueTask(e){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let r=0,i=e.length-this.index;r<i;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=D1(this.flush),this.requestErrorThrow=gp(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class N1{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class L1{create(e){const n=this.freeTasks,r=n.length?n.pop():new N1(this.onError,i=>n[n.length]=i);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const mp=new P1,R1=new L1(mp.registerPendingError);function I1(t){mp.enqueueTask(R1.create(t))}const Au="dnd-core/ADD_SOURCE",zu="dnd-core/ADD_TARGET",$u="dnd-core/REMOVE_SOURCE",Eo="dnd-core/REMOVE_TARGET";function M1(t){return{type:Au,payload:{sourceId:t}}}function j1(t){return{type:zu,payload:{targetId:t}}}function b1(t){return{type:$u,payload:{sourceId:t}}}function A1(t){return{type:Eo,payload:{targetId:t}}}function z1(t){W(typeof t.canDrag=="function","Expected canDrag to be a function."),W(typeof t.beginDrag=="function","Expected beginDrag to be a function."),W(typeof t.endDrag=="function","Expected endDrag to be a function.")}function $1(t){W(typeof t.canDrop=="function","Expected canDrop to be a function."),W(typeof t.hover=="function","Expected hover to be a function."),W(typeof t.drop=="function","Expected beginDrag to be a function.")}function La(t,e){if(e&&Array.isArray(t)){t.forEach(n=>La(n,!1));return}W(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var pt;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(pt||(pt={}));let F1=0;function B1(){return F1++}function U1(t){const e=B1().toString();switch(t){case pt.SOURCE:return`S${e}`;case pt.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function kf(t){switch(t[0]){case"S":return pt.SOURCE;case"T":return pt.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function Of(t,e){const n=t.entries();let r=!1;do{const{done:i,value:[,s]}=n.next();if(s===e)return!0;r=!!i}while(!r);return!1}class H1{addSource(e,n){La(e),z1(n);const r=this.addHandler(pt.SOURCE,e,n);return this.store.dispatch(M1(r)),r}addTarget(e,n){La(e,!0),$1(n);const r=this.addHandler(pt.TARGET,e,n);return this.store.dispatch(j1(r)),r}containsHandler(e){return Of(this.dragSources,e)||Of(this.dropTargets,e)}getSource(e,n=!1){return W(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return W(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return W(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return W(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return kf(e)===pt.SOURCE}isTargetId(e){return kf(e)===pt.TARGET}removeSource(e){W(this.getSource(e),"Expected an existing source."),this.store.dispatch(b1(e)),I1(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){W(this.getTarget(e),"Expected an existing target."),this.store.dispatch(A1(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);W(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){W(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,r){const i=U1(e);return this.types.set(i,n),e===pt.SOURCE?this.dragSources.set(i,r):e===pt.TARGET&&this.dropTargets.set(i,r),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const W1=(t,e)=>t===e;function V1(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function q1(t,e,n=W1){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}function K1(t=ui,e){switch(e.type){case wo:break;case Au:case zu:case Eo:case $u:return ui;case yo:case ju:case _o:case So:default:return bu}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,i=Xv(n,r);if(!(i.length>0||!q1(n,r)))return ui;const o=r[r.length-1],l=n[n.length-1];return o!==l&&(o&&i.push(o),l&&i.push(l)),i}function Q1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Q1(t,i,n[i])})}return t}const xf={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function G1(t=xf,e){const{payload:n}=e;switch(e.type){case Mu:case yo:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case wo:return V1(t.clientOffset,n.clientOffset)?t:Y1({},t,{clientOffset:n.clientOffset});case _o:case So:return xf;default:return t}}function X1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){X1(t,i,n[i])})}return t}const J1={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Z1(t=J1,e){const{payload:n}=e;switch(e.type){case yo:return Zn({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case ju:return Zn({},t,{isSourcePublic:!0});case wo:return Zn({},t,{targetIds:n.targetIds});case Eo:return t.targetIds.indexOf(n.targetId)===-1?t:Zn({},t,{targetIds:Gv(t.targetIds,n.targetId)});case So:return Zn({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case _o:return Zn({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function ey(t=0,e){switch(e.type){case Au:case zu:return t+1;case $u:case Eo:return t-1;default:return t}}function ty(t=0){return t+1}function ny(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){ny(t,i,n[i])})}return t}function iy(t={},e){return{dirtyHandlerIds:K1(t.dirtyHandlerIds,{type:e.type,payload:ry({},e.payload,{prevTargetIds:Yv(t,"dragOperation.targetIds",[])})}),dragOffset:G1(t.dragOffset,e),refCount:ey(t.refCount,e),dragOperation:Z1(t.dragOperation,e),stateId:ty(t.stateId)}}function sy(t,e=void 0,n={},r=!1){const i=oy(r),s=new x1(i,new H1(i)),o=new _1(i,s),l=t(o,e,n);return o.receiveBackend(l),o}function oy(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return fp(iy,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function ly(t,e){if(t==null)return{};var n=ay(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ay(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let Tf=0;const xs=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var uy=x.memo(function(e){var{children:n}=e,r=ly(e,["children"]);const[i,s]=cy(r);return x.useEffect(()=>{if(s){const o=vp();return++Tf,()=>{--Tf===0&&(o[xs]=null)}}},[]),m.jsx(cp.Provider,{value:i,children:n})});function cy(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=fy(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function fy(t,e=vp(),n,r){const i=e;return i[xs]||(i[xs]={dragDropManager:sy(t,e,n,r)}),i[xs]}function vp(){return typeof global<"u"?global:window}var dy=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const Fn=typeof window<"u"?x.useLayoutEffect:x.useEffect;function yp(t,e,n){const[r,i]=x.useState(()=>e(t)),s=x.useCallback(()=>{const o=e(t);dy(r,o)||(i(o),n&&n())},[r,t,n]);return Fn(s),[r,s]}function hy(t,e,n){const[r,i]=yp(t,e,n);return Fn(function(){const o=t.getHandlerId();if(o!=null)return t.subscribeToStateChange(i,{handlerIds:[o]})},[t,i]),r}function wp(t,e,n){return hy(e,t||(()=>({})),()=>n.reconnect())}function Sp(t,e){const n=[...e||[]];return e==null&&typeof t!="function"&&n.push(t),x.useMemo(()=>typeof t=="function"?t():t,n)}function py(t){return x.useMemo(()=>t.hooks.dragSource(),[t])}function gy(t){return x.useMemo(()=>t.hooks.dragPreview(),[t])}let El=!1,Cl=!1;class my{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){W(!El,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return El=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{El=!1}}isDragging(){if(!this.sourceId)return!1;W(!Cl,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Cl=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Cl=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let kl=!1;class vy{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;W(!kl,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return kl=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{kl=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function yy(t,e,n){const r=n.getRegistry(),i=r.addTarget(t,e);return[i,()=>r.removeTarget(i)]}function wy(t,e,n){const r=n.getRegistry(),i=r.addSource(t,e);return[i,()=>r.removeSource(i)]}function Ra(t,e,n,r){let i;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const s=Object.keys(t),o=Object.keys(e);if(s.length!==o.length)return!1;const l=Object.prototype.hasOwnProperty.bind(e);for(let a=0;a<s.length;a++){const u=s[a];if(!l(u))return!1;const f=t[u],h=e[u];if(i=void 0,i===!1||i===void 0&&f!==h)return!1}return!0}function Ia(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Sy(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function _y(t){return(e=null,n=null)=>{if(!x.isValidElement(e)){const s=e;return t(s,n),s}const r=e;return Sy(r),Ey(r,n?s=>t(s,n):t)}}function _p(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const i=_y(r);e[n]=()=>i}}),e}function Df(t,e){typeof t=="function"?t(e):t.current=e}function Ey(t,e){const n=t.ref;return W(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?x.cloneElement(t,{ref:r=>{Df(n,r),Df(e,r)}}):x.cloneElement(t,{ref:e})}class Cy{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Ra(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Ra(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=_p({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,Ia(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,Ia(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class ky{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Ra(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=_p({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,Ia(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Hn(){const{dragDropManager:t}=x.useContext(cp);return W(t!=null,"Expected drag drop context"),t}function Oy(t,e){const n=Hn(),r=x.useMemo(()=>new Cy(n.getBackend()),[n]);return Fn(()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource()),[r,t]),Fn(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}function xy(){const t=Hn();return x.useMemo(()=>new my(t),[t])}class Ty{beginDrag(){const e=this.spec,n=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(n):r={},r??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const r=this.spec,i=this.monitor,{isDragging:s}=r;return s?s(i):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,r=this.connector,{end:i}=e;i&&i(n.getItem(),n),r.reconnect()}constructor(e,n,r){this.spec=e,this.monitor=n,this.connector=r}}function Dy(t,e,n){const r=x.useMemo(()=>new Ty(t,e,n),[e,n]);return x.useEffect(()=>{r.spec=t},[t]),r}function Py(t){return x.useMemo(()=>{const e=t.type;return W(e!=null,"spec.type must be defined"),e},[t])}function Ny(t,e,n){const r=Hn(),i=Dy(t,e,n),s=Py(t);Fn(function(){if(s!=null){const[l,a]=wy(s,i,r);return e.receiveHandlerId(l),n.receiveHandlerId(l),a}},[r,e,n,i,s])}function Ly(t,e){const n=Sp(t,e);W(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=xy(),i=Oy(n.options,n.previewOptions);return Ny(n,r,i),[wp(n.collect,r,i),py(i),gy(i)]}function Ry(t){const n=Hn().getMonitor(),[r,i]=yp(n,t);return x.useEffect(()=>n.subscribeToOffsetChange(i)),x.useEffect(()=>n.subscribeToStateChange(i)),r}function Iy(t){return x.useMemo(()=>t.hooks.dropTarget(),[t])}function My(t){const e=Hn(),n=x.useMemo(()=>new ky(e.getBackend()),[e]);return Fn(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function jy(){const t=Hn();return x.useMemo(()=>new vy(t),[t])}function by(t){const{accept:e}=t;return x.useMemo(()=>(W(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class Ay{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function zy(t,e){const n=x.useMemo(()=>new Ay(t,e),[e]);return x.useEffect(()=>{n.spec=t},[t]),n}function $y(t,e,n){const r=Hn(),i=zy(t,e),s=by(t);Fn(function(){const[l,a]=yy(s,i,r);return e.receiveHandlerId(l),n.receiveHandlerId(l),a},[r,e,i,n,s.map(o=>o.toString()).join("|")])}function Fy(t,e){const n=Sp(t,e),r=jy(),i=My(n.options);return $y(n,r,i),[wp(n.collect,r,i),Iy(i)]}function Ep(t){let e=null;return()=>(e==null&&(e=t()),e)}function By(t,e){return t.filter(n=>n!==e)}function Uy(t,e){const n=new Set,r=s=>n.add(s);t.forEach(r),e.forEach(r);const i=[];return n.forEach(s=>i.push(s)),i}class Hy{enter(e){const n=this.entered.length,r=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=Uy(this.entered.filter(r),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=By(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Wy{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const i=this.config.exposeProperties[r];i!=null&&(n[r]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Cp="__NATIVE_FILE__",kp="__NATIVE_URL__",Op="__NATIVE_TEXT__",xp="__NATIVE_HTML__";var Pf=Object.freeze({__proto__:null,FILE:Cp,HTML:xp,TEXT:Op,URL:kp});function Ol(t,e,n){const r=e.reduce((i,s)=>i||t.getData(s),"");return r??n}const Ma={[Cp]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[xp]:{exposeProperties:{html:(t,e)=>Ol(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[kp]:{exposeProperties:{urls:(t,e)=>Ol(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Op]:{exposeProperties:{text:(t,e)=>Ol(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Vy(t,e){const n=Ma[t];if(!n)throw new Error(`native type ${t} has no configuration`);const r=new Wy(n);return r.loadDataTransfer(e),r}function xl(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Ma).filter(n=>{const r=Ma[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const qy=Ep(()=>/firefox/i.test(navigator.userAgent)),Tp=Ep(()=>!!window.safari);class Nf{interpolate(e){const{xs:n,ys:r,c1s:i,c2s:s,c3s:o}=this;let l=n.length-1;if(e===n[l])return r[l];let a=0,u=o.length-1,f;for(;a<=u;){f=Math.floor(.5*(a+u));const y=n[f];if(y<e)a=f+1;else if(y>e)u=f-1;else return r[f]}l=Math.max(0,u);const h=e-n[l],c=h*h;return r[l]+i[l]*h+s[l]*c+o[l]*h*c}constructor(e,n){const{length:r}=e,i=[];for(let y=0;y<r;y++)i.push(y);i.sort((y,g)=>e[y]<e[g]?-1:1);const s=[],o=[];let l,a;for(let y=0;y<r-1;y++)l=e[y+1]-e[y],a=n[y+1]-n[y],s.push(l),o.push(a/l);const u=[o[0]];for(let y=0;y<s.length-1;y++){const g=o[y],w=o[y+1];if(g*w<=0)u.push(0);else{l=s[y];const O=s[y+1],p=l+O;u.push(3*p/((p+O)/g+(p+l)/w))}}u.push(o[o.length-1]);const f=[],h=[];let c;for(let y=0;y<u.length-1;y++){c=o[y];const g=u[y],w=1/s[y],O=g+u[y+1]-c-c;f.push((c-g-O)*w),h.push(O*w*w)}this.xs=e,this.ys=n,this.c1s=u,this.c2s=f,this.c3s=h}}const Ky=1;function Dp(t){const e=t.nodeType===Ky?t:t.parentElement;if(!e)return null;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function ss(t){return{x:t.clientX,y:t.clientY}}function Qy(t){var e;return t.nodeName==="IMG"&&(qy()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Yy(t,e,n,r){let i=t?e.width:n,s=t?e.height:r;return Tp()&&t&&(s/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:s}}function Gy(t,e,n,r,i){const s=Qy(e),l=Dp(s?t:e),a={x:n.x-l.x,y:n.y-l.y},{offsetWidth:u,offsetHeight:f}=t,{anchorX:h,anchorY:c}=r,{dragPreviewWidth:y,dragPreviewHeight:g}=Yy(s,e,u,f),w=()=>{let L=new Nf([0,.5,1],[a.y,a.y/f*g,a.y+g-f]).interpolate(c);return Tp()&&s&&(L+=(window.devicePixelRatio-1)*g),L},O=()=>new Nf([0,.5,1],[a.x,a.x/u*y,a.x+y-u]).interpolate(h),{offsetX:p,offsetY:d}=i,v=p===0||p,k=d===0||d;return{x:v?p:O(),y:k?d:w()}}let Xy=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}};function Jy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Jy(t,i,n[i])})}return t}class Zy{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,r){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,r);const i=o=>this.handleDragStart(o,e),s=o=>this.handleSelectStart(o);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",i),n.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",i),n.removeEventListener("selectstart",s),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const r=o=>this.handleDragEnter(o,e),i=o=>this.handleDragOver(o,e),s=o=>this.handleDrop(o,e);return n.addEventListener("dragenter",r),n.addEventListener("dragover",i),n.addEventListener("drop",s),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",i),n.removeEventListener("drop",s)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return Lf({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return Lf({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Pf).some(n=>Pf[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=Vy(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const s=this.sourceNodes.get(i);return s&&Dp(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const o=ss(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:l}=i,a=xl(l);if(this.monitor.isDragging()){if(l&&typeof l.setDragImage=="function"){const f=this.monitor.getSourceId(),h=this.sourceNodes.get(f),c=this.sourcePreviewNodes.get(f)||h;if(c){const{anchorX:y,anchorY:g,offsetX:w,offsetY:O}=this.getCurrentSourcePreviewNodeOptions(),v=Gy(h,c,o,{anchorX:y,anchorY:g},{offsetX:w,offsetY:O});l.setDragImage(c,v.x,v.y)}}try{l==null||l.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(a)this.beginDragNativeItem(a);else{if(l&&!l.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:l}=i,a=xl(l);a&&this.beginDragNativeItem(a,l)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:s}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,s.length>0&&this.actions.hover(s,{clientOffset:ss(i)}),s.some(l=>this.monitor.canDropOnTarget(l))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=ss(i),this.scheduleHover(s),(s||[]).some(l=>this.monitor.canDropOnTarget(l))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;i.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}else xl(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:ss(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const s=i.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(i.preventDefault(),s.dragDrop()))},this.options=new Xy(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Hy(this.isNodeInDocument)}}let os;function ew(){return os||(os=new Image,os.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),os}const tw=function(e,n,r){return new Zy(e,n,r)};function Rf({isPremovedPiece:t=!1,piece:e,square:n,squares:r}){const{animationDuration:i,arePiecesDraggable:s,boardWidth:o,boardOrientation:l,chessPieces:a,currentPosition:u,deletePieceFromSquare:f,dropOffBoardAction:h,id:c,isDraggablePiece:y,isWaitingForAnimation:g,onPieceClick:w,onPieceDragBegin:O,onPieceDragEnd:p,onPieceDropOffBoard:d,onPromotionCheck:v,positionDifferences:k}=Qt(),[N,L]=x.useState({opacity:1,zIndex:5,touchAction:"none",cursor:s&&y({piece:e,sourceSquare:n})?"-webkit-grab":"default"}),[{canDrag:T,isDragging:R},Q,z]=Ly(()=>({type:"piece",item:()=>(O(e,n),{piece:e,square:n,id:c}),end:(te,he)=>{p(e,n),!he.didDrop()&&(h==="trash"&&f(n),d==null||d(n,e))},collect:te=>({canDrag:y({piece:e,sourceSquare:n}),isDragging:!!te.isDragging()})}),[e,n,u,c]);z(ew(),{captureDraggingState:!0}),x.useEffect(()=>{L(te=>Object.assign(Object.assign({},te),{opacity:R?0:1}))},[R]),x.useEffect(()=>{var te;const he=(te=k.removed)===null||te===void 0?void 0:te[n];if(!k.added||!he)return;const Ze=Object.entries(k.added).find(([Ve,Le])=>Le===he||v(n,Ve,he));if(g&&he&&Ze&&!t){const Ve=n,Le=Ze[0];if(Ve&&Le){const Oe=o/8;L(I=>Object.assign(Object.assign({},I),{transform:`translate(${(l==="black"?-1:1)*(Le.charCodeAt(0)-Ve.charCodeAt(0))*Oe}px, ${(l==="black"?-1:1)*(Number(Ve[1])-Number(Le[1]))*Oe}px)`,transition:`transform ${i}ms`,zIndex:6}))}}},[k]),x.useEffect(()=>{const{sourceSq:te}=fe();te&&L(he=>Object.assign(Object.assign({},he),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[u]),x.useEffect(()=>{L(te=>Object.assign(Object.assign({},te),{cursor:s&&y({piece:e,sourceSquare:n})?"-webkit-grab":"default"}))},[n,u,s]);function fe(){return{sourceSq:r[n]}}return m.jsx("div",Object.assign({ref:s&&T?Q:null,onClick:()=>w(e,n),"data-piece":e,style:N},{children:typeof a[e]=="function"?a[e]({squareWidth:o/8,isDragging:R,square:n}):m.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:o/8,height:o/8,style:{display:"block"}},{children:m.jsx("g",{children:a[e]})}))}))}function nw({square:t,squareColor:e,setSquares:n,squareHasPremove:r,children:i}){const s=x.useRef(null),{autoPromoteToQueen:o,boardWidth:l,boardOrientation:a,clearArrows:u,currentPosition:f,currentRightClickDown:h,customBoardStyle:c,customDarkSquareStyle:y,customDropSquareStyle:g,customLightSquareStyle:w,customPremoveDarkSquareStyle:O,customPremoveLightSquareStyle:p,customSquare:d,customSquareStyles:v,drawNewArrow:k,handleSetPosition:N,handleSparePieceDrop:L,isWaitingForAnimation:T,lastPieceColour:R,lastSquareDraggedOver:Q,onArrowDrawEnd:z,onDragOverSquare:fe,onMouseOutSquare:te,onMouseOverSquare:he,onPieceDrop:Ze,onPromotionCheck:Ve,onRightClickDown:Le,onRightClickUp:Oe,onSquareClick:I,setLastSquareDraggedOver:F,setPromoteFromSquare:U,setPromoteToSquare:Z,setShowPromoteDialog:ie}=Qt(),[{isOver:ut},ze]=Fy(()=>({accept:"piece",drop:Dt,collect:H=>({isOver:!!H.isOver()})}),[t,f,Ze,T,R]);function Dt(H){if(H.isSpare){L(H.piece,t);return}Ve(H.square,t,H.piece)?o?N(H.square,t,H.piece[0]==="w"?"wQ":"bQ"):(U(H.square),Z(t),ie(!0)):N(H.square,t,H.piece,!0)}x.useEffect(()=>{if(s.current){const{x:H,y:wt}=s.current.getBoundingClientRect();n(At=>Object.assign(Object.assign({},At),{[t]:{x:H,y:wt}}))}},[l,a]);const $e=Object.assign(Object.assign(Object.assign(Object.assign({},rw(t,a,c)),e==="black"?y:w),r&&(e==="black"?O:p)),ut&&g);return m.jsx("div",Object.assign({ref:ze,style:$e,"data-square-color":e,"data-square":t,onTouchMove:H=>{var wt;const At=H.touches[0],Cn=document.elementsFromPoint(At.clientX,At.clientY),Re=(wt=Cn==null?void 0:Cn.find(qe=>qe.getAttribute("data-square")))===null||wt===void 0?void 0:wt.getAttribute("data-square");Re&&Re!==Q&&(F(Re),fe(Re))},onMouseOver:H=>{H.buttons===2&&h&&k(h,t),!(H.relatedTarget&&H.currentTarget.contains(H.relatedTarget))&&he(t)},onMouseOut:H=>{H.relatedTarget&&H.currentTarget.contains(H.relatedTarget)||te(t)},onMouseDown:H=>{H.button===2&&Le(t)},onMouseUp:H=>{H.button===2&&(h&&z(h,t),Oe(t))},onDragEnter:()=>fe(t),onClick:()=>{const H=f[t];I(t,H),u()},onContextMenu:H=>{H.preventDefault()}},{children:typeof d=="string"?m.jsx(d,Object.assign({ref:s,style:Object.assign(Object.assign(Object.assign({},Mf(l)),If),!r&&(v==null?void 0:v[t]))},{children:i})):m.jsx(d,Object.assign({ref:s,square:t,squareColor:e,style:Object.assign(Object.assign(Object.assign({},Mf(l)),If),!r&&(v==null?void 0:v[t]))},{children:i}))}))}const If={display:"flex",justifyContent:"center"},Mf=t=>({width:t/8,height:t/8}),rw=(t,e,n)=>n!=null&&n.borderRadius?t==="a1"?e==="white"?{borderBottomLeftRadius:n.borderRadius}:{borderTopRightRadius:n.borderRadius}:t==="a8"?e==="white"?{borderTopLeftRadius:n.borderRadius}:{borderBottomRightRadius:n.borderRadius}:t==="h1"?e==="white"?{borderBottomRightRadius:n.borderRadius}:{borderTopLeftRadius:n.borderRadius}:t==="h8"?e==="white"?{borderTopRightRadius:n.borderRadius}:{borderBottomLeftRadius:n.borderRadius}:{}:{};function iw(){const[t,e]=x.useState({}),{arePremovesAllowed:n,boardOrientation:r,boardWidth:i,currentPosition:s,id:o,premoves:l,showBoardNotation:a}=Qt(),u=x.useMemo(()=>{const f=[];return n?(l.forEach((h,c)=>{const{sourceSq:y,targetSq:g,piece:w}=h,O=f.find(p=>{var d;return p.piece===w&&((d=p.premovesRoute.at(-1))===null||d===void 0?void 0:d.targetSq)===y});O?O.premovesRoute.push({sourceSq:y,targetSq:g,index:c}):f.push({piece:w,premovesRoute:[{sourceSq:y,targetSq:g,index:c}]})}),f):[]},[l]);return m.jsx("div",Object.assign({"data-boardid":o},{children:[...Array(8)].map((f,h)=>m.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:i}},{children:[...Array(8)].map((c,y)=>{const g=r==="black"?Pi[7-y]+(h+1):Pi[y]+(8-h),w=y%2===h%2?"white":"black",O=l.find(d=>d.sourceSq===g||d.targetSq===g),p=u.filter(({premovesRoute:d})=>{var v;return((v=d.at(-1))===null||v===void 0?void 0:v.targetSq)===g}).sort((d,v)=>{var k,N;return((k=v.premovesRoute.at(-1))===null||k===void 0?void 0:k.index)-((N=d.premovesRoute.at(-1))===null||N===void 0?void 0:N.index)}).at(0);return m.jsxs(nw,Object.assign({square:g,squareColor:w,setSquares:e,squareHasPremove:!!O},{children:[!O&&s[g]&&m.jsx(Rf,{piece:s[g],square:g,squares:t}),p&&m.jsx(Rf,{isPremovedPiece:!0,piece:p.piece,square:g,squares:t}),a&&m.jsx(qv,{row:h,col:y})]}),`${y}${h}`)})}),h.toString()))}))}const sw=()=>{const{arrows:t,newArrow:e,boardOrientation:n,boardWidth:r,customArrowColor:i}=Qt(),s=[...t,e].filter(Boolean);return m.jsx("svg",Object.assign({width:r,height:r,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:s.map((o,l)=>{const[a,u,f]=o;if(a===u)return null;const h=Pa(n,r,a),c=Pa(n,r,u);let y=r/32;const g=l===t.length;t.some(v=>v[0]!==a&&v[1]===u)&&!g&&(y=r/16);const w=c.x-h.x,O=c.y-h.y,p=Math.hypot(O,w),d={x:h.x+w*(p-y)/p,y:h.y+O*(p-y)/p};return m.jsxs(x.Fragment,{children:[m.jsx("marker",Object.assign({id:`arrowhead-${l}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:m.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:f??i})})),m.jsx("line",{x1:h.x,y1:h.y,x2:d.x,y2:d.y,opacity:g?"0.5":"0.65",stroke:f??i,strokeWidth:g?.9*r/40:r/40,markerEnd:`url(#arrowhead-${l})`})]},`${a}-${u}${g?"-active":""}`)})}))};function ow({option:t}){const[e,n]=x.useState(!1),{boardWidth:r,chessPieces:i,customDarkSquareStyle:s,customLightSquareStyle:o,handleSetPosition:l,onPromotionPieceSelect:a,promoteFromSquare:u,promoteToSquare:f,promotionDialogVariant:h}=Qt(),c=()=>{switch(t[1]){case"Q":return s.backgroundColor;case"R":return o.backgroundColor;case"N":return h==="default"?o.backgroundColor:s.backgroundColor;case"B":return h==="default"?s.backgroundColor:o.backgroundColor}};return m.jsx("div",Object.assign({onClick:()=>{a(t,u??void 0,f??void 0)&&l(u,f,t,!0)},onMouseOver:()=>n(!0),onMouseOut:()=>n(!1),"data-piece":t,style:{cursor:"pointer",backgroundColor:e?c():`${c()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof i[t]=="function"?m.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:i[t]({squareWidth:r/8,isDragging:!1})})):m.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:r/8,height:r/8,style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:m.jsx("g",{children:i[t]})}))}))}function lw(){const{boardOrientation:t,boardWidth:e,promotionDialogVariant:n,promoteToSquare:r}=Qt(),i=(r==null?void 0:r[1])==="1"?"b":"w",s=[`${i??"w"}Q`,`${i??"w"}R`,`${i??"w"}N`,`${i??"w"}B`],o={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-e/8}px, ${-e/8}px)`},vertical:{transform:`translate(${-e/16}px, ${-e/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*e/8}px)`,width:"100%",height:`${e/4}px`,top:0,backgroundColor:"white",left:0}},l=Pa(t,e,r||"a8");return m.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${l==null?void 0:l.y}px`,left:`${l==null?void 0:l.x}px`,zIndex:1e3},o[n]),title:"Choose promotion piece"},{children:s.map(a=>m.jsx(ow,{option:a},a))}))}const aw={whiteKing:m.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:m.jsx("g",{children:m.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function uw({children:t}){try{return m.jsx(m.Fragment,{children:t})}catch(e){return console.log(e),m.jsx(Pp,{showError:!0})}}function Pp({showError:t=!1}){return m.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[m.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:aw.whiteKing})),t&&m.jsx("h1",{children:"Something went wrong"})]}))}function cw(){const t=x.useRef(null),{boardWidth:e,clearCurrentRightClickDown:n,onPromotionPieceSelect:r,setShowPromoteDialog:i,showPromoteDialog:s,customBoardStyle:o}=Qt();return x.useEffect(()=>{function l(a){t.current&&!t.current.contains(a.target)&&n()}return document.addEventListener("mouseup",l),()=>{document.removeEventListener("mouseup",l)}},[]),e?m.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:m.jsxs("div",Object.assign({ref:t,style:Object.assign(Object.assign({position:"relative"},fw(e)),o)},{children:[m.jsx(iw,{}),m.jsx(sw,{}),s&&m.jsxs(m.Fragment,{children:[m.jsx("div",{onClick:()=>{i(!1),r==null||r()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:e,height:e}}),m.jsx(lw,{})]})]}))})):m.jsx(Pp,{})}const fw=t=>({cursor:"default",height:t,width:t});var vn;(function(t){t.mouse="mouse",t.touch="touch",t.keyboard="keyboard"})(vn||(vn={}));class dw{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0?e:!1}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0?e:!1}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0?e:!1}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0?e:!1}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)!==null&&e!==void 0?e:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,n,r,i;return(i=(r=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&r!==void 0?r:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&i!==void 0?i:0}get delayMouseStart(){var e,n,r,i;return(i=(r=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&r!==void 0?r:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&i!==void 0?i:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var e;if(!((e=this.context)===null||e===void 0)&&e.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,n){this.args=e,this.context=n}}function hw(t,e,n,r){return Math.sqrt(Math.pow(Math.abs(n-t),2)+Math.pow(Math.abs(r-e),2))}function pw(t,e,n,r,i){if(!i)return!1;const s=Math.atan2(r-e,n-t)*180/Math.PI+180;for(let o=0;o<i.length;++o){const l=i[o];if(l&&(l.start==null||s>=l.start)&&(l.end==null||s<=l.end))return!0}return!1}const gw={Left:1},mw={Left:0};function Tl(t){return t.button===void 0||t.button===mw.Left}function vw(t){return t.buttons===void 0||(t.buttons&gw.Left)===0}function Np(t){return!!t.targetTouches}const yw=1;function ww(t){const e=t.nodeType===yw?t:t.parentElement;if(!e)return;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function Sw(t,e){if(t.targetTouches.length===1)return Xs(t.targetTouches[0]);if(e&&t.touches.length===1&&t.touches[0].target===e.target)return Xs(t.touches[0])}function Xs(t,e){return Np(t)?Sw(t,e):{x:t.clientX,y:t.clientY}}const jf=(()=>{let t=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return t=!0,!0}}))}catch{}return t})(),Kr={[vn.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[vn.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[vn.keyboard]:{keydown:"keydown"}};class ci{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(W(!ci.isSetUp,"Cannot have two Touch backends at the same time."),ci.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(ci.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,n,r,i=!1){const s=jf?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(o){const l=Kr[o][n];l&&e.addEventListener(l,r,s)})}removeEventListener(e,n,r,i=!1){const s=jf?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(o){const l=Kr[o][n];l&&e.removeEventListener(l,r,s)})}connectDragSource(e,n){const r=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,n),this.addEventListener(n,"start",r),()=>{this.sourceNodes.delete(e),this.removeEventListener(n,"start",r)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,n){const r=this.options.rootElement;if(!this.document||!r)return()=>{};const i=s=>{if(!this.document||!r||!this.monitor.isDragging())return;let o;switch(s.type){case Kr.mouse.move:o={x:s.clientX,y:s.clientY};break;case Kr.touch.move:var l,a;o={x:((l=s.touches[0])===null||l===void 0?void 0:l.clientX)||0,y:((a=s.touches[0])===null||a===void 0?void 0:a.clientY)||0};break}const u=o!=null?this.document.elementFromPoint(o.x,o.y):void 0,f=u&&n.contains(u);if(u===n||f)return this.handleMove(s,e)};return this.addEventListener(this.document.body,"move",i),this.targetNodes.set(e,n),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",i))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!e||!e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,n,r){this.getSourceClientOffset=i=>{const s=this.sourceNodes.get(i);return s&&ww(s)},this.handleTopMoveStartCapture=i=>{Tl(i)&&(this.moveStartSourceIds=[])},this.handleMoveStart=i=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(i)},this.handleTopMoveStart=i=>{if(!Tl(i))return;const s=Xs(i);s&&(Np(i)&&(this.lastTargetTouchFallback=i.targetTouches[0]),this._mouseClientOffset=s),this.waitingForDelay=!1},this.handleTopMoveStartDelay=i=>{if(!Tl(i))return;const s=i.type===Kr.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,i),s),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(i,s)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(s)},this.handleTopMove=i=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:s,dragOverTargetIds:o}=this,l=this.options.enableHoverOutsideTarget,a=Xs(i,this.lastTargetTouchFallback);if(!a)return;if(this._isScrolling||!this.monitor.isDragging()&&pw(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,a.x,a.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&s&&hw(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,a.x,a.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(s,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const u=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(u),this.actions.publishDragSource(),i.cancelable&&i.preventDefault();const f=(o||[]).map(g=>this.targetNodes.get(g)).filter(g=>!!g),h=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(a.x,a.y,f):this.document.elementsFromPoint(a.x,a.y),c=[];for(const g in h){if(!h.hasOwnProperty(g))continue;let w=h[g];for(w!=null&&c.push(w);w;)w=w.parentElement,w&&c.indexOf(w)===-1&&c.push(w)}const y=c.filter(g=>f.indexOf(g)>-1).map(g=>this._getDropTargetId(g)).filter(g=>!!g).filter((g,w,O)=>O.indexOf(g)===w);if(l)for(const g in this.targetNodes){const w=this.targetNodes.get(g);if(u&&w&&w.contains(u)&&y.indexOf(g)===-1){y.unshift(g);break}}y.reverse(),this.actions.hover(y,{clientOffset:a})},this._getDropTargetId=i=>{const s=this.targetNodes.keys();let o=s.next();for(;o.done===!1;){const l=o.value;if(i===this.targetNodes.get(l))return l;o=s.next()}},this.handleTopMoveEndCapture=i=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!vw(i)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}i.cancelable&&i.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=i=>{i.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new dw(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(vn.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(vn.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(vn.keyboard)}}const _w=function(e,n={},r={}){return new ci(e,n,r)},Ew=x.createContext({isCustomDndProviderSet:!1}),Cw=({children:t})=>m.jsx(m.Fragment,{children:t}),kw=({customDndBackend:t,customDndBackendOptions:e,children:n})=>{const[r,i]=x.useState(),[s,o]=x.useState(!1),[l,a]=x.useState(!1),{isCustomDndProviderSet:u}=x.useContext(Ew);x.useEffect(()=>{a("ontouchstart"in window),o(!0),i(window)},[]);const f=u?Cw:uy;return s?r?m.jsx(f,Object.assign({backend:t||(l?_w:tw),context:r,options:t?e:void 0},{children:n})):m.jsx(m.Fragment,{children:n}):null};function Ow({boardContainer:t}){const{boardWidth:e,chessPieces:n,id:r,snapToCursor:i,allowDragOutsideBoard:s}=Qt(),o=Ry(c=>({item:c.getItem(),clientOffset:c.getClientOffset(),sourceClientOffset:c.getSourceClientOffset(),isDragging:c.isDragging()})),{isDragging:l,item:a,clientOffset:u,sourceClientOffset:f}=o,h=x.useCallback((c,y)=>{if(!c||!y)return{display:"none"};let{x:g,y:w}=i?c:y;const O=e/8/2;if(i&&(g-=O,w-=O),!s){const{left:d,top:v}=t,k=d-O,N=v-O,L=d+e-O,T=v+e-O;g=Math.max(k,Math.min(g,L)),w=Math.max(N,Math.min(w,T))}const p=`translate(${g}px, ${w}px)`;return{transform:p,WebkitTransform:p,touchAction:"none"}},[e,s,i,t]);return l&&a.id===r?m.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:m.jsx("div",Object.assign({style:h(u,f)},{children:typeof n[a.piece]=="function"?n[a.piece]({squareWidth:e/8,isDragging:!0}):m.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:e/8,height:e/8},{children:m.jsx("g",{children:n[a.piece]})}))}))})):null}const xw=x.forwardRef((t,e)=>{const{customDndBackend:n,customDndBackendOptions:r,onBoardWidthChange:i}=t,s=Mv(t,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[o,l]=x.useState(t.boardWidth),a=x.useRef(null),u=x.useRef(null),[f,h]=x.useState({left:0,top:0}),c=x.useMemo(()=>{var y;return(y=a.current)===null||y===void 0?void 0:y.getBoundingClientRect()},[a.current]);return x.useEffect(()=>{o&&(i==null||i(o))},[o]),x.useEffect(()=>{h({left:c!=null&&c.left?c==null?void 0:c.left:0,top:c!=null&&c.top?c==null?void 0:c.top:0})},[c]),x.useEffect(()=>{var y;if(t.boardWidth===void 0&&(!((y=a.current)===null||y===void 0)&&y.offsetWidth)){const g=new ResizeObserver(()=>{var w;l((w=a.current)===null||w===void 0?void 0:w.offsetWidth)});return g.observe(a.current),()=>{g.disconnect()}}},[a.current]),m.jsx(uw,{children:m.jsxs("div",Object.assign({ref:u,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[m.jsx("div",{ref:a,style:{width:"100%"}}),m.jsx(kw,Object.assign({customDndBackend:n,customDndBackendOptions:r},{children:o&&m.jsxs(Vv,Object.assign({boardWidth:o},s,{ref:e},{children:[m.jsx(Ow,{boardContainer:f}),m.jsx(cw,{})]}))}))]}))})});function Tw({state:t,onMove:e}){const[n,r]=x.useState(new hf),[i,s]=x.useState({}),[o,l]=x.useState(null),[a,u]=x.useState(null);x.useEffect(()=>{if(!(t!=null&&t.fen))return;const c=new hf(t.fen);r(c),l(t.lastMove||null),a&&c.turn()!==(a.color==="w"?"w":"b")&&c.moves({verbose:!0}).find(w=>w.from+w.to+(w.promotion||"")===a.uci)&&(e(a.uci),u(null))},[t==null?void 0:t.fen]);const f=(c,y,g)=>{const O=n.moves({verbose:!0}).find(d=>d.from===c&&d.to===y),p=O?O.from+O.to+(O.promotion||""):null;return p?(e(p),s({}),!0):(u({uci:c+y,color:n.turn()}),!1)},h=x.useMemo(()=>{const c={...i};if(o){const y=o.slice(0,2),g=o.slice(2,4);c[y]={backgroundColor:"rgba(34,197,94,0.5)"},c[g]={backgroundColor:"rgba(34,197,94,0.5)"}}return c},[i,o]);return m.jsx("div",{style:{width:"100%",height:"calc(100vh - 140px)"},children:m.jsx(xw,{id:"Board",position:(t==null?void 0:t.fen)||"start",onPieceDrop:f,customBoardStyle:{borderRadius:"12px",boxShadow:"0 0 0 1px #1f2937 inset"},customSquareStyles:h,boardOrientation:"white",animationDuration:200,arePiecesDraggable:!0,arePremovesAllowed:!0,showBoardNotation:!0,customLightSquareStyle:{backgroundColor:"#9ca3af"},customDarkSquareStyle:{backgroundColor:"#374151"}})})}function Dl(t,e=440,n=.06,r="sine",i=.05){const s=t.createOscillator(),o=t.createGain();s.type=r,s.frequency.value=e,o.gain.value=i,s.connect(o).connect(t.destination),s.start(),s.stop(t.currentTime+n)}function Dw(){return x.useEffect(()=>{const t=new(window.AudioContext||window.webkitAudioContext),e={move:()=>{Dl(t,520,.05,"sine",.03)},capture:()=>{Dl(t,200,.08,"square",.04)},check:()=>{Dl(t,880,.05,"sawtooth",.05)},lose:()=>{const n=t.createOscillator(),r=t.createGain();n.type="sawtooth",n.frequency.setValueAtTime(800,t.currentTime),n.frequency.exponentialRampToValueAtTime(80,t.currentTime+.8),r.gain.setValueAtTime(.05,t.currentTime),r.gain.exponentialRampToValueAtTime(1e-4,t.currentTime+.8),n.connect(r).connect(t.destination),n.start(),n.stop(t.currentTime+.85)}};return window.__sound=e,()=>{delete window.__sound}},[]),null}const Te=Es("/",{autoConnect:!0});function Pw(){const[t,e]=x.useState(!1),[n,r]=x.useState(""),[i,s]=x.useState(null),[o,l]=x.useState(!0),[a,u]=x.useState(!1),[f,h]=x.useState("bot1200"),[c,y]=x.useState([]),[g,w]=x.useState(""),[O,p]=x.useState(null);x.useEffect(()=>{fetch("/api/bots").then(T=>T.json()).then(y).catch(()=>y([]))},[]),x.useEffect(()=>(Te.on("connect",()=>e(!0)),Te.on("disconnect",()=>e(!1)),Te.on("joined",({roomId:T})=>r(T)),Te.on("state",T=>s(T)),Te.on("error_message",T=>w(T)),Te.on("game_over",T=>{w("Spielende: "+T.reason+"  Ergebnis "+T.result),setTimeout(()=>{var R;return(R=window.__sound)==null?void 0:R.lose()},50)}),()=>{Te.off("connect"),Te.off("disconnect"),Te.off("joined"),Te.off("state"),Te.off("error_message"),Te.off("game_over")}),[]);const d=()=>{const T=prompt("Raum-ID eingeben:");T&&Te.emit("join",{roomId:T})},v=async(T="pvp")=>{const z=await(await fetch("/api/rooms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:T,botId:f})})).json();Te.emit("join",{roomId:z.roomId}),T==="bot"&&(u(!0),Te.emit("set_bot",{roomId:z.roomId,botId:f}))},k=n?location.origin+"/#"+n:"";x.useEffect(()=>{const T=location.hash.replace("#","");T&&!n&&Te.emit("join",{roomId:T})},[]);const N=T=>{var R;n&&(Te.emit("move",{roomId:n,uci:T}),(R=window.__sound)==null||R.move())},L=async()=>{if(i!=null&&i.pgn){w("Analyse luft..."),p(null);try{const R=await(await fetch("/api/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pgn:i.pgn})})).json();p(R),w("Analyse fertig.")}catch{w("Analyse fehlgeschlagen.")}}};return m.jsxs("div",{className:"container",children:[m.jsxs("div",{className:"card",children:[m.jsxs("div",{className:"toolbar",style:{marginBottom:8},children:[m.jsx("button",{className:"btn",onClick:()=>l(T=>!T),children:o?"Sidebar ausblenden":"Sidebar einblenden"}),m.jsx("span",{className:"badge",children:t?"Verbunden":"Getrennt"}),m.jsx("span",{className:"badge",children:i?i.turn==="w"?"Wei am Zug":"Schwarz am Zug":""}),n&&m.jsxs("span",{className:"badge",children:["Raum: ",n]}),k&&m.jsx("a",{className:"btn",href:k,target:"_blank",children:"Link kopieren/ffnen"}),m.jsx("span",{style:{marginLeft:"auto"},children:g})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(280px, 1fr) 24px",gap:12,alignItems:"stretch"},children:[m.jsx(Tw,{state:i,onMove:N}),m.jsx(cv,{evalCp:0})]}),m.jsxs("div",{className:"toolbar",style:{marginTop:12},children:[m.jsx("button",{className:"btn primary",onClick:()=>v("pvp"),children:"Neues OnlineSpiel"}),m.jsx("button",{className:"btn",onClick:()=>v("bot"),children:"Gegen Bot"}),m.jsx("button",{className:"btn",onClick:d,children:"Raum beitreten"}),m.jsx("button",{className:"btn",onClick:L,children:"Analyse"}),m.jsx("select",{className:"btn",value:f,onChange:T=>h(T.target.value),children:c.map(T=>m.jsxs("option",{value:T.id,children:[T.name," (",T.elo,")"]},T.id))})]})]}),m.jsx("div",{className:o?"sidebar":"sidebar hidden",children:m.jsx(uv,{state:i,analysis:O})}),m.jsx(Dw,{})]})}Qh(document.getElementById("root")).render(m.jsx(Pw,{}));
